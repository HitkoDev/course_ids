<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 4 Basic data summarization | Introduction to data science</title>
  <meta name="description" content="Course notes">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 4 Basic data summarization | Introduction to data science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://fri-datascience.github.io/course_itds/" />
  
  <meta property="og:description" content="Course notes" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Basic data summarization | Introduction to data science" />
  
  <meta name="twitter:description" content="Course notes" />
  

<meta name="author" content="Tomaž Curk, Erik Štrumbelj">


<meta name="date" content="2019-02-22">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="web-scraping.html">
<link rel="next" href="dynamic-reports-and-reproducibility.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to data science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="python-programming-language.html"><a href="python-programming-language.html"><i class="fa fa-check"></i><b>1</b> Python programming language</a><ul>
<li class="chapter" data-level="1.1" data-path="python-programming-language.html"><a href="python-programming-language.html#basic-characteristics"><i class="fa fa-check"></i><b>1.1</b> Basic characteristics</a></li>
<li class="chapter" data-level="1.2" data-path="python-programming-language.html"><a href="python-programming-language.html#why-python"><i class="fa fa-check"></i><b>1.2</b> Why Python?</a></li>
<li class="chapter" data-level="1.3" data-path="python-programming-language.html"><a href="python-programming-language.html#setting-up"><i class="fa fa-check"></i><b>1.3</b> Setting up</a><ul>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ides"><i class="fa fa-check"></i>Python IDE’s</a></li>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ecosystem-for-data-science"><i class="fa fa-check"></i>Python ecosystem for Data Science</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="python-programming-language.html"><a href="python-programming-language.html#python-in-15-minutes"><i class="fa fa-check"></i><b>1.4</b> Python in 15 minutes</a><ul>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#hello-world"><i class="fa fa-check"></i>Hello world!</a></li>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#variables-and-types"><i class="fa fa-check"></i>Variables and types</a></li>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#string-formatting"><i class="fa fa-check"></i>String formatting</a></li>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#more-operators"><i class="fa fa-check"></i>More operators</a></li>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#control-flow"><i class="fa fa-check"></i>Control flow</a></li>
<li class="chapter" data-level="1.4.1" data-path="python-programming-language.html"><a href="python-programming-language.html#functions"><i class="fa fa-check"></i><b>1.4.1</b> Functions</a></li>
<li class="chapter" data-level="1.4.2" data-path="python-programming-language.html"><a href="python-programming-language.html#classes-and-objects"><i class="fa fa-check"></i><b>1.4.2</b> Classes and objects</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="python-programming-language.html"><a href="python-programming-language.html#further-reading-and-references"><i class="fa fa-check"></i><b>1.5</b> Further reading and references</a></li>
<li class="chapter" data-level="1.6" data-path="python-programming-language.html"><a href="python-programming-language.html#learning-outcomes"><i class="fa fa-check"></i><b>1.6</b> Learning outcomes</a></li>
<li class="chapter" data-level="1.7" data-path="python-programming-language.html"><a href="python-programming-language.html#practice-problems"><i class="fa fa-check"></i><b>1.7</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="source-code-control.html"><a href="source-code-control.html"><i class="fa fa-check"></i><b>2</b> Source code control</a></li>
<li class="chapter" data-level="3" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>3</b> Web scraping</a></li>
<li class="chapter" data-level="4" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html"><i class="fa fa-check"></i><b>4</b> Basic data summarization</a><ul>
<li class="chapter" data-level="4.1" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#descriptive-statistics-for-univariate-distributions"><i class="fa fa-check"></i><b>4.1</b> Descriptive statistics for univariate distributions</a><ul>
<li class="chapter" data-level="4.1.1" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#central-tendency"><i class="fa fa-check"></i><b>4.1.1</b> Central tendency</a></li>
<li class="chapter" data-level="4.1.2" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#dispersion"><i class="fa fa-check"></i><b>4.1.2</b> Dispersion</a></li>
<li class="chapter" data-level="4.1.3" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>4.1.3</b> Skewness and kurtosis</a></li>
<li class="chapter" data-level="4.1.4" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#nominal-variables"><i class="fa fa-check"></i><b>4.1.4</b> Nominal variables</a></li>
<li class="chapter" data-level="4.1.5" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#testing-the-shape-of-a-distribution"><i class="fa fa-check"></i><b>4.1.5</b> Testing the shape of a distribution</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#descriptive-statistics-for-bivariate-distributions"><i class="fa fa-check"></i><b>4.2</b> Descriptive statistics for bivariate distributions</a></li>
<li class="chapter" data-level="4.3" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#visualization"><i class="fa fa-check"></i><b>4.3</b> Visualization</a><ul>
<li class="chapter" data-level="4.3.1" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#basic-principles"><i class="fa fa-check"></i><b>4.3.1</b> Basic principles</a></li>
<li class="chapter" data-level="4.3.2" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#univariate-data"><i class="fa fa-check"></i><b>4.3.2</b> Univariate data</a></li>
<li class="chapter" data-level="4.3.3" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#bivariate-data"><i class="fa fa-check"></i><b>4.3.3</b> Bivariate data</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#further-reading-and-references-1"><i class="fa fa-check"></i><b>4.4</b> Further reading and references</a></li>
<li class="chapter" data-level="4.5" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#learning-outcomes-1"><i class="fa fa-check"></i><b>4.5</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.6" data-path="basic-data-summarization.html"><a href="basic-data-summarization.html#practice-problems-1"><i class="fa fa-check"></i><b>4.6</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dynamic-reports-and-reproducibility.html"><a href="dynamic-reports-and-reproducibility.html"><i class="fa fa-check"></i><b>5</b> Dynamic reports and reproducibility</a></li>
<li class="chapter" data-level="6" data-path="more-exploratory-data-analysis.html"><a href="more-exploratory-data-analysis.html"><i class="fa fa-check"></i><b>6</b> More exploratory data analysis</a></li>
<li class="chapter" data-level="7" data-path="relational-databases.html"><a href="relational-databases.html"><i class="fa fa-check"></i><b>7</b> Relational databases</a></li>
<li class="chapter" data-level="8" data-path="predictive-modelling.html"><a href="predictive-modelling.html"><i class="fa fa-check"></i><b>8</b> Predictive modelling</a></li>
<li class="chapter" data-level="9" data-path="large-datasets-and-non-relational-databases.html"><a href="large-datasets-and-non-relational-databases.html"><i class="fa fa-check"></i><b>9</b> Large datasets and non relational databases</a></li>
<li class="chapter" data-level="10" data-path="parallel-and-distributed-computing.html"><a href="parallel-and-distributed-computing.html"><i class="fa fa-check"></i><b>10</b> Parallel and distributed computing</a></li>
<li class="chapter" data-level="11" data-path="who-intellectual-property-and-software-licenses.html"><a href="who-intellectual-property-and-software-licenses.html"><i class="fa fa-check"></i><b>11</b> (who?) Intellectual property and software licenses</a></li>
<li class="chapter" data-level="12" data-path="who-privacy-security-and-ethics.html"><a href="who-privacy-security-and-ethics.html"><i class="fa fa-check"></i><b>12</b> (who?) Privacy, security and ethics</a></li>
<li class="chapter" data-level="13" data-path="other-important-topics.html"><a href="other-important-topics.html"><i class="fa fa-check"></i><b>13</b> Other important topics</a><ul>
<li class="chapter" data-level="13.1" data-path="other-important-topics.html"><a href="other-important-topics.html#testing"><i class="fa fa-check"></i><b>13.1</b> Testing</a></li>
<li class="chapter" data-level="13.2" data-path="other-important-topics.html"><a href="other-important-topics.html#r-code"><i class="fa fa-check"></i><b>13.2</b> R code</a></li>
<li class="chapter" data-level="13.3" data-path="other-important-topics.html"><a href="other-important-topics.html#python-code"><i class="fa fa-check"></i><b>13.3</b> Python code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>      
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-data-summarization" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Basic data summarization</h1>
<p>Data summarization, numerical or visual, is a key skill in data analysis as we use it to provide insights both to others and to ourselves. Data summarization is also an important component of exploratory data analysis. In this chapter we will focus on the basic techniques for univariate and bivariate data. Other, more advanced data summarization techniques will be covered in a later chapter.</p>
<p>We will be using R and ggplot2, but the contents of this chapter are meant to be tool-agnostic. Readers should use the programming language and tools that they are most comfortable with. However, do not sacrifice expresiveness or profesionallism for the sake of convenience - if your current toolbox limits you in any way, learn new tools!</p>
<div id="descriptive-statistics-for-univariate-distributions" class="section level2">
<h2><span class="header-section-number">4.1</span> Descriptive statistics for univariate distributions</h2>
<p>We humans are on average not particularly good at thinking in multiple dimensions, so, in practice, there will be a tendency to look at individual variables/dimensions. That is, in practice, we will most of the time be summarizing univariate distributions.</p>
<p>Univariate distributions come from various sources. It might be a theoretical distribution, an empirical cumulative distribution function of a data sample, a probabilistic opinion from a person, a posterior distribution of a parameter from a Bayesian model, and many others. Descriptive statistics apply to all of these cases in the same way, regardless of the source of the distribution.</p>
<p>Before we proceed with introducing the most commonly used descriptive statistics, let us discuss their main purpose. The main purpose of any sort of data summarization technique is to (a) reduce the time/effort of delivering information to the reader in a way that (b) we lose as little relevant information as possible. That is, to compress the information. For example, in the extreme case we could just show the reader the entire distribution/density ever time, but that would consume a lot of space and a lot of the readers time and effort. All summarization methods do (a) but we must be careful to choose an appropriate method so that we also get (b). Summarizing out relevant information can lead to misleading summaries, as we will illustrate with several examples later in the chapter.</p>
<div id="central-tendency" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Central tendency</h3>
<p>The most common ways of measuring central tendency (or location) of a distribution are:</p>
<ul>
<li>the mean (the mass centre of the distribution),</li>
<li>the median or 2nd quartile (the value such that half of the mass is on one and half on the other side),</li>
<li>the mode (the most probable value or the value with the highest density).</li>
</ul>
<p>Given a sample of data, the mean is the easiest to estimate/compute (we compute the average), but the median and mode are more robust to outliers.</p>
<p>In the case of unimodal approximately symmetrical distributions, such as the univariate normal distribution, all these measures of central tendency will be similar and all will be an excellent summary of location. If the distribution is asymmetrical or skewed, they will differ. In such cases it is our job to determine what information we want to convey and which summary of central tendency is the most appropriate, if any.</p>
<p>For example, observe the Gamma(1.5, 0.1) distribution and its mean (red), median (blue) and mode (green):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="fl">0.01</span>)
a &lt;-<span class="st"> </span><span class="fl">1.5</span>
b &lt;-<span class="st"> </span><span class="fl">0.1</span>
y &lt;-<span class="st"> </span><span class="kw">dgamma</span>(x, a, b)

<span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(x,y), <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;p(x)&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> (a<span class="op">-</span><span class="dv">1</span>) <span class="op">/</span><span class="st"> </span>b, <span class="dt">colour =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> a <span class="op">/</span><span class="st"> </span>b, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw">qgamma</span>(<span class="fl">0.5</span>, a, b), <span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>)</code></pre></div>
<p><img src="04-Basic_data_summarization_and_visualization_tools_and_techniques_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>In the case of multi-modal distributions, no single measure of central tendency will adequately summarize the distribution - they will all be misleading. For example, look at this bimodal distribution:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">20</span>, <span class="fl">0.01</span>)
y &lt;-<span class="st"> </span><span class="fl">0.6</span> <span class="op">*</span><span class="st"> </span><span class="kw">dnorm</span>(x, <span class="dv">2</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="fl">0.4</span> <span class="op">*</span><span class="st"> </span><span class="kw">dnorm</span>(x, <span class="dv">12</span>, <span class="dv">2</span>)

<span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(x,y), <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;p(x)&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="fl">0.6</span><span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.4</span> <span class="op">*</span><span class="st"> </span><span class="dv">15</span>, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">2</span>, <span class="dt">colour =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">lwd =</span> <span class="fl">1.5</span>)</code></pre></div>
<p><img src="04-Basic_data_summarization_and_visualization_tools_and_techniques_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="dispersion" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Dispersion</h3>
<p>The most common ways of measuring dispersion (or spread or scale) of a distribution are:</p>
<ul>
<li>variance (mean of quadratic distances from mean) or, more commonly, standard deviation (root of variance, so we are on the same scale as the measurement)</li>
<li>median absolute deviation (median of absolute distances from mean),</li>
<li>quantile-based intervals, in particular the inter-quartile range (IQR) (interval between the 1st and 3rd quartiles, 50% of the mass/density lies in this interval).</li>
</ul>
<p>As the measures of central tendency summarize the centre of the distribution, measures of dispersion summarize how far spread out is the distribution around its centre. Standard deviation is the most commonly used and median absolute deviation is more robust to outliers.</p>
<p>Again, in the case of distributions that are approximately normal, the standard deviation and the mean will be the practically optimal choice for summarization, because they correspond directly to the two parameters of the normal distribution. That is, they completely summarize the distribution without loss of information. We also know that approximately 95% (99%) of the normal density lies within 2 (3) standard deviations from the mean. Standard deviation is useful even if the distribution is not approximately normal as it does provide some information, combined with the sample size (producing the standard error), on how certain we can be in our estimate of the mean.</p>
<p>But, as before, the more we deviate from normality, the less meaningful standard deviation becomes and it makes more sense to use quantile-based intervals. For example, if we estimate the mean and <span class="math inline">\(\pm\)</span> 2 standard deviations for samples from the Gamma distribution from before, we get the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
x &lt;-<span class="st"> </span><span class="kw">rgamma</span>(<span class="dv">1000</span>, a, b)
<span class="kw">cat</span>(<span class="kw">sprintf</span>(<span class="st">&quot;%.2f +/- %.2f</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">mean</span>(x), <span class="dv">2</span><span class="op">*</span><span class="kw">sd</span>(x)))</code></pre></div>
<pre><code>## 14.66 +/- 24.49</code></pre>
<p>That is, the 95% interval estimated this way also includes negative values, which is absurd and misleading - we know the Gamma distributed variables are positive. Computing the IQR or the 95% range interval provides a more sensible summary of this skewed distribution and, together with the mean also serve as an indicator that the distribution is skewed (the mean is not the centre of the intervals):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
x &lt;-<span class="st"> </span><span class="kw">rgamma</span>(<span class="dv">1000</span>, a, b)
<span class="kw">cat</span>(<span class="kw">sprintf</span>(<span class="st">&quot;%.2f, IQR = [%.2f, %.2f], 95pct = [%.2f, %.2f]</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="kw">mean</span>(x), <span class="kw">quantile</span>(x, <span class="fl">0.25</span>), <span class="kw">quantile</span>(x, <span class="fl">0.75</span>), <span class="kw">quantile</span>(x, <span class="fl">0.025</span>), <span class="kw">quantile</span>(x, <span class="fl">0.975</span>)))</code></pre></div>
<pre><code>## 14.66, IQR = [5.72, 20.76], 95pct = [1.18, 46.09]</code></pre>
<p>And, again, for multi-modal distributions, we can adequately summarize them only by identifying the modes visually and/or describing each mode individually.</p>
</div>
<div id="skewness-and-kurtosis" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Skewness and kurtosis</h3>
<p>As mentioned above, ranges can be used to indicate a distributions asymmetry (skewness) or fat-tailedness (kurtosis). Although less commonly used, there exist numerical summaries of skewness and kurtosis that can be used instead.</p>
<p>The following example shows the kurtosis and skewness for a gamma, normal, logistic and bimodal distribution. Observe how how the bimodal distribution has the lowest kurtosis, because the method fails:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(moments)
<span class="kw">set.seed</span>(<span class="dv">0</span>)
tmp &lt;-<span class="st"> </span><span class="ot">NULL</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) x &lt;-<span class="st"> </span><span class="kw">rgamma</span>(<span class="dv">1000</span>, a, b)
  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="dv">9</span>)
  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">3</span>) x &lt;-<span class="st"> </span><span class="kw">rlogis</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="dv">9</span>)
  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">4</span>) x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rnorm</span>(<span class="dv">700</span>, <span class="dv">0</span>, <span class="dv">9</span>), <span class="kw">rnorm</span>(<span class="dv">300</span>, <span class="dv">35</span>, <span class="dv">4</span>))
  
  s &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;kurtosis = &quot;</span>, <span class="kw">round</span>(<span class="kw">kurtosis</span>(x), <span class="dv">2</span>), <span class="st">&quot; skewness =&quot;</span>, <span class="kw">round</span>(<span class="kw">skewness</span>(x), <span class="dv">2</span>))
  tmp &lt;-<span class="st"> </span><span class="kw">rbind</span>(tmp, <span class="kw">data.frame</span>(<span class="dt">x =</span> x, <span class="dt">name =</span> s))
}

<span class="kw">ggplot</span>(tmp, <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>) <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>(.<span class="op">~</span>name)</code></pre></div>
<p><img src="04-Basic_data_summarization_and_visualization_tools_and_techniques_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="nominal-variables" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Nominal variables</h3>
<p>Nominal variables are typically represented with the relative frequencies or probabilities, numerically or visually, but that is not really a summary, because it is also all the information about a nominal variable. That the methods discussed so far in this section apply to numerical variables (rational, interval and to some extent, ordinal) but not nominal variables, because the notions of location and distance do not exist in the nominal case. The only exception to this is the mode, which is the level of the nominal variable with the highest relative frequency or probability.</p>
<p>One summary that is often useful for summarizing the dispersion or the uncertainty associated with a nominal variable is entropy. Observe the following example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">entropy &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
  x &lt;-<span class="st"> </span>x[x <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>]
  <span class="op">-</span><span class="kw">sum</span>(x <span class="op">*</span><span class="st"> </span><span class="kw">log2</span>(x))
}

<span class="kw">entropy</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)) <span class="co"># fair coin</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">entropy</span>(<span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>)) <span class="co"># biased coin</span></code></pre></div>
<pre><code>## [1] 0.7219281</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">entropy</span>(<span class="kw">c</span>(<span class="fl">1.0</span>, <span class="fl">0.0</span>)) <span class="co"># coin with heads on both sides</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>A fair coin has exactly 1 bit of entropy - we receive 1 bit of information by observing the outcome of a flip. This is also the maximum achievable entropy for a binary variable. A biased coin has lower entropy - we receive less information. In the extreme case of a coin with heads on both sides, the entropy is 0 - the outcome of a flip brings no new information, as we already know it will be heads.</p>
<p>When we want to compare entropy across variables with different numbers of levels/categories, we can normalize it by dividing it with the maximum achieavable entropy. For example, observe a fair coin and a fair 6-sided die - in absolute terms, the 6-sided die has higher entropy due to having more possible values. However, relatively to the maximum achievable entropy, both represent maximally uncertain distributions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">entropy</span>(<span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)) <span class="co"># fair coin</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">entropy</span>(<span class="kw">rep</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">6</span>, <span class="dv">6</span>)) <span class="co"># fair 6-sided die</span></code></pre></div>
<pre><code>## [1] 2.584963</code></pre>
<p>Note that entropy can easily be calculated for any discrete random variable. Entropy also has a continuous analogue - differential entropy.</p>
</div>
<div id="testing-the-shape-of-a-distribution" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Testing the shape of a distribution</h3>
<p>Often we want to check if the distribution that underlies our data has the shape of some hypothesized distribution (for example, the normal distribution) or if two samples come from the same distribution. Here, we will present two of the most common methods used: the Kolmogorov-Smirnov test and the Chi-squared goodness-of-fit test. Both of these are Null-hypothesis significance tests (NHST), so, before we proceed, be aware of two things. First, do not use NHST blindly, without a good understanding of their properties and how to interpret their results. And second, if you are more comfortable with thinking in terms of probabilities of hypotheses as opposed to significance and p-values, there always exist Bayesian alternatives to NHST.</p>
<p>The <strong>Kolmogorov-Smirnov test</strong> (KS) is a non-parametric test for testing the equality of two cumulative distribution functions (CDF). These can be two empirical CDFs or an empirical CDF and a theoretical CDF. The KS test statistic is the maximum distance between the two corresponding CDFs. That is, we compute the distribution of this statistic under the null-hypothesis that the CDFs are the same and then observe how extreme the maximum distance is on the sample. To illustrate the KS test, we use it to test the normality of the underlying distributions for two samples - one from a logistic distribution, one from a standard normal distribution. And then to test if the two samples come from the same distribution:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
x1 &lt;-<span class="st"> </span><span class="kw">rlogis</span>(<span class="dv">80</span>, <span class="dv">0</span>, <span class="dv">1</span>)
x2 &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">80</span>, <span class="dv">0</span>, <span class="dv">1</span>)
<span class="kw">ks.test</span>(x1, <span class="dt">y =</span> <span class="st">&quot;pnorm&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)</code></pre></div>
<pre><code>## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  x1
## D = 0.1575, p-value = 0.03362
## alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ks.test</span>(x2, <span class="dt">y =</span> <span class="st">&quot;pnorm&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)</code></pre></div>
<pre><code>## 
##  One-sample Kolmogorov-Smirnov test
## 
## data:  x2
## D = 0.070067, p-value = 0.801
## alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ks.test</span>(x1, x2)</code></pre></div>
<pre><code>## 
##  Two-sample Kolmogorov-Smirnov test
## 
## data:  x1 and x2
## D = 0.175, p-value = 0.173
## alternative hypothesis: two-sided</code></pre>
<p>So, with a 5% risk (95% confidence), we would reject the null hypothesis that our sample x1 is from a standard normal distribution. On the other hand, we would not reject that our sample x1 is from a standard normal distribution. Finally, we would not reject the null hypothesis that x1 and x2 come from the same distribution. The only guarantee that comes with these results is that we will in the long run falsely reject a true null-hypothesis at most 5% of the time. It says very little about our overall performance, because we do not know the ratio of cases when the null-hypothesis will be true.</p>
<p>This example also illustrates the complexity of interpreting NHST results or rather all the tempting traps laid out for us - we might be tempted to conclude, based on the high p-value, that x2 does indeed come from a standard normal, but that then leads us to a weird predicament that we are willing to claim that x1 is not standard normal, x2 is standard normal, but we are less sure that x1 and x2 have different underlying distributions.</p>
<p>Note that typical implementations of the KS test assume that the underlying distributions are continuous and ties are therefore impossible. However, the KS test can be generalized to discrete and mixed distributions (see R package KSgeneral).</p>
<p>Differences in between distributions can also be assessed visually, through the <strong>QQ-plot</strong>, a plot that compares the quantiles of the two distributions. If the distributions have the same shape, their quantiles, plotted together, should lie on the same line. The samples from the logistic distribution obviously deviate from the theoretical quantiles of a normal distribution:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">y =</span> x1)
<span class="kw">ggplot</span>(tmp, <span class="kw">aes</span>(<span class="dt">sample =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">stat_qq</span>() <span class="op">+</span><span class="st"> </span><span class="kw">stat_qq_line</span>()</code></pre></div>
<p><img src="04-Basic_data_summarization_and_visualization_tools_and_techniques_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>The <strong>Chi-squared goodness-of-fit</strong> test (CHISQ) is a non-parametric test for testing the equality of two categorical distributions. The CHISQ test can also be used on discrete or even continuous data, if there is a reasonable way of binning the data into a finite number of bins. The test statistic is based on a similar idea as the KS test statistic, but instead of observing just the maximum difference, we sum the squared difference between the relative frequency of the two distributions for a bin across all bins. We illustrate the CHISQ test by testing the samples for a biased coin against a theoretical fair coin and the samples from an unbiased 6-sided die against a theoretical fair 6-sided die.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
x &lt;-<span class="st"> </span><span class="kw">table</span>(<span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">30</span>, <span class="dt">rep =</span> T, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.7</span>, <span class="fl">0.3</span>)))
<span class="kw">chisq.test</span>(x, <span class="dt">p =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)) <span class="co"># the default is to compare with uniform theoretical, but we make it explicit here</span></code></pre></div>
<pre><code>## 
##  Chi-squared test for given probabilities
## 
## data:  x
## X-squared = 3.3333, df = 1, p-value = 0.06789</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">table</span>(<span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">40</span>, <span class="dt">rep =</span> T, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.7</span>, <span class="fl">0.3</span>)))
<span class="kw">chisq.test</span>(x, <span class="dt">p =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>))</code></pre></div>
<pre><code>## 
##  Chi-squared test for given probabilities
## 
## data:  x
## X-squared = 10, df = 1, p-value = 0.001565</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">table</span>(<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dv">40</span>, <span class="dt">rep =</span> T))
<span class="kw">chisq.test</span>(x)</code></pre></div>
<pre><code>## 
##  Chi-squared test for given probabilities
## 
## data:  x
## X-squared = 5.3, df = 5, p-value = 0.3804</code></pre>
<p>So, with a 5% risk (95% confidence), we would reject the null hypothesis that our coin is fair, but only in the case with 40 samples. Because fair or close-to fair coins have high entropy, we typically require a lot of samples to distinguish between their underlying probabilities.</p>
<p>For a more real-world example, let us take the exit-poll data for the 2016 US Presidential election, broken down by gender, taken from (<a href="https://edition.cnn.com/election/2016/results/exit-polls" class="uri">https://edition.cnn.com/election/2016/results/exit-polls</a>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">24588</span>
male     &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="fl">0.47</span> <span class="op">*</span><span class="st"> </span>n <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.41</span>, <span class="fl">0.52</span>, <span class="fl">0.07</span>)) <span class="co"># some rounding, but it should not affect results</span>
female   &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="fl">0.53</span> <span class="op">*</span><span class="st"> </span>n <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.54</span>, <span class="fl">0.41</span>, <span class="fl">0.05</span>))
x        &lt;-<span class="st"> </span><span class="kw">rbind</span>(male, female)
<span class="kw">colnames</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Clinton&quot;</span>, <span class="st">&quot;Trump&quot;</span>, <span class="st">&quot;other/no answer&quot;</span>)
<span class="kw">print</span>(x)        <span class="co"># this is also known as a contingency table and the subsequent test as a contingency test</span></code></pre></div>
<pre><code>##        Clinton Trump other/no answer
## male      4738  6009             809
## female    7037  5343             652</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chisq.test</span>(x)</code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  x
## X-squared = 417.71, df = 2, p-value &lt; 2.2e-16</code></pre>
<p>So, at any reasonable confidence level, we would reject the null-hypothesis and conclude that there is a difference in how men and women voted. In fact, we do not even need a test, because the difference is so obvious and the sample size so large. The differences between those who earned less or more than 100k$, however, appear smaller, so a test makes more sense:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">24588</span>
less100     &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="fl">0.66</span> <span class="op">*</span><span class="st"> </span>n <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.49</span>, <span class="fl">0.45</span>, <span class="fl">0.06</span>)) <span class="co"># some rounding, but it should not affect results</span>
more100     &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="fl">0.34</span> <span class="op">*</span><span class="st"> </span>n <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.47</span>, <span class="fl">0.47</span>, <span class="fl">0.06</span>))
x           &lt;-<span class="st"> </span><span class="kw">rbind</span>(less100, more100)
<span class="kw">colnames</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Clinton&quot;</span>, <span class="st">&quot;Trump&quot;</span>, <span class="st">&quot;other/no answer&quot;</span>)
<span class="kw">print</span>(x)</code></pre></div>
<pre><code>##         Clinton Trump other/no answer
## less100    7952  7303             974
## more100    3929  3929             502</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chisq.test</span>(x)</code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  x
## X-squared = 9.3945, df = 2, p-value = 0.00912</code></pre>
<p>Still, we can at most typical levels of confidence reject the null-hypothesis and conclude that that there is a pattern here as well.</p>
</div>
</div>
<div id="descriptive-statistics-for-bivariate-distributions" class="section level2">
<h2><span class="header-section-number">4.2</span> Descriptive statistics for bivariate distributions</h2>
</div>
<div id="visualization" class="section level2">
<h2><span class="header-section-number">4.3</span> Visualization</h2>
<div id="basic-principles" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Basic principles</h3>
</div>
<div id="univariate-data" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Univariate data</h3>
</div>
<div id="bivariate-data" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Bivariate data</h3>
</div>
</div>
<div id="further-reading-and-references-1" class="section level2">
<h2><span class="header-section-number">4.4</span> Further reading and references</h2>
<p>Kanji, G. K. (2006). 100 statistical tests. Sage.</p>
<p>Fundamentals of Descriptive Statistics 1st Edition by Zealure Holcomb (Author)</p>
<p>ggplot2: Elegant Graphics for Data Analysis (Use R!) 1st ed. 2009. Corr. 3rd printing 2010 Edition</p>
<p>Visualize This: The FlowingData Guide to Design, Visualization, and Statistics</p>
<p>Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods William S. Cleveland and Robert McGill Journal of the American Statistical Association Vol. 79, No. 387 (Sep., 1984), pp. 531-554</p>
</div>
<div id="learning-outcomes-1" class="section level2">
<h2><span class="header-section-number">4.5</span> Learning outcomes</h2>
<p>Data science students should work towards obtaining the knowledge and the skills that enable them to:</p>
<ul>
<li>Reproduce the techniques demonstrated in this chapter using their language/tool of choice.</li>
<li>Produce visualizations that are aesthetic and without major techical flaws.</li>
<li>Recognize when a type of summary is appropriate and when it is not.</li>
<li>Apply data summarization techiques to obain insights from data.</li>
<li>Once introduced to the bootstrap and other estimation techniques, to be able to combine descriptive statistics with a quantification of uncertainty, such as confidence intervals.</li>
</ul>
</div>
<div id="practice-problems-1" class="section level2">
<h2><span class="header-section-number">4.6</span> Practice problems</h2>
<p>TODO: practice problems and/or homework</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="web-scraping.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dynamic-reports-and-reproducibility.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
