<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 3 Docker container platform | Introduction to data science</title>
  <meta name="description" content="Course notes">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 3 Docker container platform | Introduction to data science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://fri-datascience.github.io/course_itds/" />
  
  <meta property="og:description" content="Course notes" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Docker container platform | Introduction to data science" />
  
  <meta name="twitter:description" content="Course notes" />
  

<meta name="author" content="Slavko Žitnik, Tomaž Curk, Erik Štrumbelj">


<meta name="date" content="2019-08-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="source-code-control.html">
<link rel="next" href="web-scraping.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to data science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="what-is-data-science-anyway.html"><a href="what-is-data-science-anyway.html"><i class="fa fa-check"></i>What is data science anyway?</a><ul>
<li class="chapter" data-level="0.1" data-path="what-is-data-science-anyway.html"><a href="what-is-data-science-anyway.html#label"><i class="fa fa-check"></i><b>0.1</b> The role of this course</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="python-programming-language.html"><a href="python-programming-language.html"><i class="fa fa-check"></i><b>1</b> Python programming language</a><ul>
<li class="chapter" data-level="1.1" data-path="python-programming-language.html"><a href="python-programming-language.html#basic-characteristics"><i class="fa fa-check"></i><b>1.1</b> Basic characteristics</a></li>
<li class="chapter" data-level="1.2" data-path="python-programming-language.html"><a href="python-programming-language.html#why-python"><i class="fa fa-check"></i><b>1.2</b> Why Python?</a></li>
<li class="chapter" data-level="1.3" data-path="python-programming-language.html"><a href="python-programming-language.html#setting-up-the-environment"><i class="fa fa-check"></i><b>1.3</b> Setting up the environment</a><ul>
<li class="chapter" data-level="1.3.1" data-path="python-programming-language.html"><a href="python-programming-language.html#anaconda-distribution-installation"><i class="fa fa-check"></i><b>1.3.1</b> Anaconda distribution installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="python-programming-language.html"><a href="python-programming-language.html#pure-python-distribution-installation"><i class="fa fa-check"></i><b>1.3.2</b> Pure Python distribution installation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="python-programming-language.html"><a href="python-programming-language.html#installing-dependencies"><i class="fa fa-check"></i><b>1.4</b> Installing dependencies</a></li>
<li class="chapter" data-level="1.5" data-path="python-programming-language.html"><a href="python-programming-language.html#jupyter-notebooks"><i class="fa fa-check"></i><b>1.5</b> Jupyter notebooks</a><ul>
<li class="chapter" data-level="1.5.1" data-path="python-programming-language.html"><a href="python-programming-language.html#running-a-jupyter-notebook"><i class="fa fa-check"></i><b>1.5.1</b> Running a Jupyter notebook</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="python-programming-language.html"><a href="python-programming-language.html#short-introduction-to-python"><i class="fa fa-check"></i><b>1.6</b> Short introduction to Python</a><ul>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="1.6.1" data-path="python-programming-language.html"><a href="python-programming-language.html#control-flow-operations"><i class="fa fa-check"></i><b>1.6.1</b> Control flow operations</a></li>
<li class="chapter" data-level="1.6.2" data-path="python-programming-language.html"><a href="python-programming-language.html#functions"><i class="fa fa-check"></i><b>1.6.2</b> Functions</a></li>
<li class="chapter" data-level="1.6.3" data-path="python-programming-language.html"><a href="python-programming-language.html#classes-and-objects"><i class="fa fa-check"></i><b>1.6.3</b> Classes and objects</a></li>
<li class="chapter" data-level="1.6.4" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ides-and-code-editors"><i class="fa fa-check"></i><b>1.6.4</b> Python IDE’s and code editors</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ecosystem-for-data-science"><i class="fa fa-check"></i><b>1.7</b> Python ecosystem for Data Science</a></li>
<li class="chapter" data-level="1.8" data-path="python-programming-language.html"><a href="python-programming-language.html#further-reading-and-references"><i class="fa fa-check"></i><b>1.8</b> Further reading and references</a></li>
<li class="chapter" data-level="1.9" data-path="python-programming-language.html"><a href="python-programming-language.html#learning-outcomes"><i class="fa fa-check"></i><b>1.9</b> Learning outcomes</a></li>
<li class="chapter" data-level="1.10" data-path="python-programming-language.html"><a href="python-programming-language.html#practice-problems"><i class="fa fa-check"></i><b>1.10</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="source-code-control.html"><a href="source-code-control.html"><i class="fa fa-check"></i><b>2</b> Source code control</a></li>
<li class="chapter" data-level="3" data-path="docker-container-platform.html"><a href="docker-container-platform.html"><i class="fa fa-check"></i><b>3</b> Docker container platform</a><ul>
<li class="chapter" data-level="3.1" data-path="docker-container-platform.html"><a href="docker-container-platform.html#why-docker"><i class="fa fa-check"></i><b>3.1</b> Why Docker?</a></li>
<li class="chapter" data-level="3.2" data-path="docker-container-platform.html"><a href="docker-container-platform.html#setting-up-the-environment-1"><i class="fa fa-check"></i><b>3.2</b> Setting up the environment</a></li>
<li class="chapter" data-level="3.3" data-path="docker-container-platform.html"><a href="docker-container-platform.html#short-introduction-to-docker"><i class="fa fa-check"></i><b>3.3</b> Short introduction to Docker</a><ul>
<li class="chapter" data-level="3.3.1" data-path="docker-container-platform.html"><a href="docker-container-platform.html#basics-1"><i class="fa fa-check"></i><b>3.3.1</b> Basics</a></li>
<li class="chapter" data-level="3.3.2" data-path="docker-container-platform.html"><a href="docker-container-platform.html#docker-application-example"><i class="fa fa-check"></i><b>3.3.2</b> Docker application example</a></li>
<li class="chapter" data-level="3.3.3" data-path="docker-container-platform.html"><a href="docker-container-platform.html#volumes"><i class="fa fa-check"></i><b>3.3.3</b> Volumes</a></li>
<li class="chapter" data-level="3.3.4" data-path="docker-container-platform.html"><a href="docker-container-platform.html#docker-application-example-with-multiple-services"><i class="fa fa-check"></i><b>3.3.4</b> Docker application example with multiple services</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="docker-container-platform.html"><a href="docker-container-platform.html#further-reading-and-references-1"><i class="fa fa-check"></i><b>3.4</b> Further reading and references</a></li>
<li class="chapter" data-level="3.5" data-path="docker-container-platform.html"><a href="docker-container-platform.html#learning-outcomes-1"><i class="fa fa-check"></i><b>3.5</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.6" data-path="docker-container-platform.html"><a href="docker-container-platform.html#practice-problems-1"><i class="fa fa-check"></i><b>3.6</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>4</b> Web scraping</a></li>
<li class="chapter" data-level="5" data-path="dynamic-reports-and-reproducibility.html"><a href="dynamic-reports-and-reproducibility.html"><i class="fa fa-check"></i><b>5</b> Dynamic reports and reproducibility</a></li>
<li class="chapter" data-level="6" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html"><i class="fa fa-check"></i><b>6</b> Summarizing data - the basics</a><ul>
<li class="chapter" data-level="6.1" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#descriptive-statistics-for-univariate-distributions"><i class="fa fa-check"></i><b>6.1</b> Descriptive statistics for univariate distributions</a><ul>
<li class="chapter" data-level="6.1.1" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#central-tendency"><i class="fa fa-check"></i><b>6.1.1</b> Central tendency</a></li>
<li class="chapter" data-level="6.1.2" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#dispersion"><i class="fa fa-check"></i><b>6.1.2</b> Dispersion</a></li>
<li class="chapter" data-level="6.1.3" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>6.1.3</b> Skewness and kurtosis</a></li>
<li class="chapter" data-level="6.1.4" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#nominal-variables"><i class="fa fa-check"></i><b>6.1.4</b> Nominal variables</a></li>
<li class="chapter" data-level="6.1.5" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#testing-the-shape-of-a-distribution"><i class="fa fa-check"></i><b>6.1.5</b> Testing the shape of a distribution</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#descriptive-statistics-for-bivariate-distributions"><i class="fa fa-check"></i><b>6.2</b> Descriptive statistics for bivariate distributions</a></li>
<li class="chapter" data-level="6.3" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#further-reading-and-references-2"><i class="fa fa-check"></i><b>6.3</b> Further reading and references</a></li>
<li class="chapter" data-level="6.4" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#learning-outcomes-2"><i class="fa fa-check"></i><b>6.4</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.5" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#practice-problems-2"><i class="fa fa-check"></i><b>6.5</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html"><i class="fa fa-check"></i><b>7</b> Summarizing data - visualization</a><ul>
<li class="chapter" data-level="7.1" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>7.1</b> Histograms and density plots</a></li>
<li class="chapter" data-level="7.2" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#bar-plot"><i class="fa fa-check"></i><b>7.2</b> Bar plot</a></li>
<li class="chapter" data-level="7.3" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#pie-chart"><i class="fa fa-check"></i><b>7.3</b> Pie chart</a></li>
<li class="chapter" data-level="7.4" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#scatterplot"><i class="fa fa-check"></i><b>7.4</b> Scatterplot</a></li>
<li class="chapter" data-level="7.5" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#d-density-plot"><i class="fa fa-check"></i><b>7.5</b> 2D density plot</a></li>
<li class="chapter" data-level="7.6" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#boxplot"><i class="fa fa-check"></i><b>7.6</b> Boxplot</a></li>
<li class="chapter" data-level="7.7" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#violin-plot"><i class="fa fa-check"></i><b>7.7</b> Violin plot</a></li>
<li class="chapter" data-level="7.8" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#correlogram"><i class="fa fa-check"></i><b>7.8</b> Correlogram</a></li>
<li class="chapter" data-level="7.9" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#a-comprehensive-summary"><i class="fa fa-check"></i><b>7.9</b> A comprehensive summary</a></li>
<li class="chapter" data-level="7.10" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#further-reading-and-references-3"><i class="fa fa-check"></i><b>7.10</b> Further reading and references</a></li>
<li class="chapter" data-level="7.11" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#learning-outcomes-3"><i class="fa fa-check"></i><b>7.11</b> Learning outcomes</a></li>
<li class="chapter" data-level="7.12" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#practice-problems-3"><i class="fa fa-check"></i><b>7.12</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html"><i class="fa fa-check"></i><b>8</b> Summarizing data - multivariate data</a><ul>
<li class="chapter" data-level="8.1" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#principal-component-analysis-pca"><i class="fa fa-check"></i><b>8.1</b> Principal Component Analysis (PCA)</a></li>
<li class="chapter" data-level="8.2" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#factor-analysis-fa"><i class="fa fa-check"></i><b>8.2</b> Factor analysis (FA)</a></li>
<li class="chapter" data-level="8.3" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#multi-dimensional-scaling-mds"><i class="fa fa-check"></i><b>8.3</b> Multi-dimensional scaling (MDS)</a></li>
<li class="chapter" data-level="8.4" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#t-distributed-stochastic-neighbor-embedding-t-sne"><i class="fa fa-check"></i><b>8.4</b> t-Distributed Stochastic Neighbor Embedding (t-SNE)</a></li>
<li class="chapter" data-level="8.5" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#clustering"><i class="fa fa-check"></i><b>8.5</b> Clustering</a><ul>
<li class="chapter" data-level="8.5.1" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#k-means-clustering"><i class="fa fa-check"></i><b>8.5.1</b> k-means clustering</a></li>
<li class="chapter" data-level="8.5.2" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#determining-the-number-of-clusters"><i class="fa fa-check"></i><b>8.5.2</b> Determining the number of clusters</a></li>
<li class="chapter" data-level="8.5.3" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#agglomerative-hierarchical-clustering"><i class="fa fa-check"></i><b>8.5.3</b> Agglomerative hierarchical clustering</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#further-reading-and-references-4"><i class="fa fa-check"></i><b>8.6</b> Further reading and references</a></li>
<li class="chapter" data-level="8.7" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#learning-outcomes-4"><i class="fa fa-check"></i><b>8.7</b> Learning outcomes</a></li>
<li class="chapter" data-level="8.8" data-path="summarizing-data-multivariate-data.html"><a href="summarizing-data-multivariate-data.html#practice-problems-4"><i class="fa fa-check"></i><b>8.8</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="relational-databases.html"><a href="relational-databases.html"><i class="fa fa-check"></i><b>9</b> Relational databases</a></li>
<li class="chapter" data-level="10" data-path="predictive-modelling-introduction.html"><a href="predictive-modelling-introduction.html"><i class="fa fa-check"></i><b>10</b> Predictive modelling - Introduction</a></li>
<li class="chapter" data-level="11" data-path="predictive-modelling-learning-paradigms.html"><a href="predictive-modelling-learning-paradigms.html"><i class="fa fa-check"></i><b>11</b> Predictive modelling - Learning paradigms</a></li>
<li class="chapter" data-level="12" data-path="predictive-modelling-feature-selection.html"><a href="predictive-modelling-feature-selection.html"><i class="fa fa-check"></i><b>12</b> Predictive modelling - Feature selection</a></li>
<li class="chapter" data-level="13" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html"><i class="fa fa-check"></i><b>13</b> Dealing with missing data</a><ul>
<li class="chapter" data-level="13.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#the-severity-of-the-missing-data-problem"><i class="fa fa-check"></i><b>13.1</b> The severity of the missing data problem</a></li>
<li class="chapter" data-level="13.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#visually-exploring-missingness"><i class="fa fa-check"></i><b>13.2</b> Visually exploring missingness</a></li>
<li class="chapter" data-level="13.3" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#deletion-methods"><i class="fa fa-check"></i><b>13.3</b> Deletion methods</a><ul>
<li class="chapter" data-level="13.3.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#column-deletion"><i class="fa fa-check"></i><b>13.3.1</b> Column deletion</a></li>
<li class="chapter" data-level="13.3.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#row-deletion"><i class="fa fa-check"></i><b>13.3.2</b> Row deletion</a></li>
<li class="chapter" data-level="13.3.3" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#pairwise-deletion"><i class="fa fa-check"></i><b>13.3.3</b> Pairwise deletion</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#imputation-methods"><i class="fa fa-check"></i><b>13.4</b> Imputation methods</a><ul>
<li class="chapter" data-level="13.4.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#single-imputation-with-the-mean"><i class="fa fa-check"></i><b>13.4.1</b> Single imputation with the mean</a></li>
<li class="chapter" data-level="13.4.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#single-imputation-with-prediction"><i class="fa fa-check"></i><b>13.4.2</b> Single imputation with prediction</a></li>
<li class="chapter" data-level="13.4.3" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#multiple-imputation"><i class="fa fa-check"></i><b>13.4.3</b> Multiple imputation</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#summary"><i class="fa fa-check"></i><b>13.5</b> Summary</a></li>
<li class="chapter" data-level="13.6" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#further-reading-and-references-5"><i class="fa fa-check"></i><b>13.6</b> Further reading and references</a></li>
<li class="chapter" data-level="13.7" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#learning-outcomes-5"><i class="fa fa-check"></i><b>13.7</b> Learning outcomes</a></li>
<li class="chapter" data-level="13.8" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#practice-problems-5"><i class="fa fa-check"></i><b>13.8</b> Practice problems</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>      
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="docker-container-platform" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Docker container platform</h1>
<p>For extreme portability and scalability of our applications there exist tools that can package together the entire required application environment, such as library dependencies or language runtime.</p>
<p>Docker is a set of tools that use operating system-level virtualization to develop and deliver software in packages called containers. The software that hosts the containers is called Docker Engine and was first started in 2013 by Docker, Inc. Docker products are available both in Community and Enterprise editions.</p>
<p>Docker containers are isolated from each other and they bundle their own software, libraries and configuration files. If our application consists of multiple services, containers can communicate with each other through internal or external network configuations. All containers are run by a single host operating system kernel and are thus more lightweight than virtual machines. They are instantiated from Docker images that specify their precise contents. We often create images by combining and modifying existing standard images downloaded from public repositories, also known as image registries. An instance of an image (a container) thus contains configured networking, storage, logging, etc. Furthermore, Docker defines an abstraction for these machine-specific settings and the exact same Docker container can run without any changes on many different machines with many different configurations.</p>
<p>There exist other tools similar to Docker, which may not be that well known or are used for different scenarios, such as <a href="https://sylabs.io/">Singularity</a>, <a href="https://nanobox.io/">Nanobox</a> or <a href="https://linuxcontainers.org/">LXC</a>. Another approach of bundling applications into separate environment is using virtual machines, where each virtual machine contains its own operating system. Most common virtualization technologies are <a href="https://www.vmware.com/">VMWare products</a> or <a href="https://www.virtualbox.org/">Virtualbox</a>. A technology in-between both worlds is <a href="https://www.vagrantup.com/">Vagrant</a>, which enables a user to script the entire environment but when running the app, Vagrant creates a separate virtual machine (e.g. using Virtualbox) and runs it.</p>
<div id="why-docker" class="section level2">
<h2><span class="header-section-number">3.1</span> Why Docker?</h2>
<p>Author of a Linux.com article <span class="citation">(Noyes <a href="#ref-docker">2008</a>)</span> described Docker as follows:</p>
<blockquote>
<p>Docker is a tool that can package an application and its dependencies in a virtual container that can run on any Linux server. This helps enable flexibility and portability on where the application can run, whether on premises, public cloud, private cloud, bare metal, etc.</p>
</blockquote>
<p>Virtual machines and containers have similar resource isolation and allocation benefits, but containers virtualize the operating system whereas virtual machines virtualize hardware. Therefore, containers are more portable and efficient.</p>
<p>Multiple containers can run on the same machine and share the operating system kernel with other containers, each running as isolated processes in user space. Containers images are typically tens of MBs in size, which is much than typical virtual machines. Containers can handle more applications and require fewer operating systems.</p>
<p>Virtual machines as an abstraction of physical hardware turn one server into many servers. The hypervisor allows multiple virtual machines to run on a single machine. Each virtual machine contains a full copy of an operating system, the application, necessary binaries and libraries. This requires GBs of data - virtual machines require more disk space, physical resources and are slower to boot. The Figure below shows a comparison between multiple running Docker containers (left hand side) and multiple virtual machines (right hand side):</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-1"></span>
<img src="data/Docker/dockerVsVM.png" alt="Dockerized applications vs. VM-virtualized applications (image courtesy of docker.com)." width="636" />
<p class="caption">
Figure 3.1: Dockerized applications vs. VM-virtualized applications (image courtesy of docker.com).
</p>
</div>
</div>
<div id="setting-up-the-environment-1" class="section level2">
<h2><span class="header-section-number">3.2</span> Setting up the environment</h2>
<p>To install Docker on your machine, you need to download the appropriate Docker Engine Community distribution from the official <a href="https://hub.docker.com/search/?type=edition&amp;offering=community">download website</a>. There also exists a <em>Docker Machine</em> installation package, which is a provisioning and installation software for Docker - we do not need it at this point as it helps us manage multiple remote Docker hosts.</p>
<p>After first installation we can explore different installation settings and tools. <em>Kitematic</em> is a tool which provides a handy GUI to overview downloaded images, containers, volumes and their settings. We can use it as a side-tool for command-line commands we introduce below.</p>
<p>We can check our Docker installation by running <code>docker info</code> to view some status details.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Containers</span>: 0
 <span class="ex">Running</span>: 0
 <span class="ex">Paused</span>: 0
 <span class="ex">Stopped</span>: 0
<span class="ex">Images</span>: 0
<span class="ex">Server</span> Version: 18.09.2
<span class="ex">Storage</span> Driver: overlay2
<span class="ex">...</span></code></pre></div>
<p>If we experience permission problems, we need to allow our user to work with Docker. Follow the <a href="https://docs.docker.com/install/linux/linux-postinstall/">post-installation guidelines</a>.</p>
<p>Now we are ready to test the Docker installation by running the command <code>docker run hello-world</code>. If we see a similar message to the one below, we are ready to begin.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Unable</span> to find image <span class="st">&#39;hello-world:latest&#39;</span> locally
<span class="ex">latest</span>: Pulling from library/hello-world
<span class="ex">1b930d010525</span>: Pull complete
<span class="ex">Digest</span>: sha256:6540fc08ee6e6b7b63468dc3317e3303aae178cb8a45ed3123180328bcc1d20f
<span class="ex">Status</span>: Downloaded newer image for hello-world:latest

<span class="ex">Hello</span> from Docker!
<span class="ex">This</span> message shows that your installation appears to be working correctly.
<span class="ex">...</span></code></pre></div>
</div>
<div id="short-introduction-to-docker" class="section level2">
<h2><span class="header-section-number">3.3</span> Short introduction to Docker</h2>
<div id="basics-1" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Basics</h3>
<p>A Docker container is a runtime instance of an image - that is, an image with state, or a user process. You can see a list of available images using the command <code>docker image ls</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">REPOSITORY</span>          TAG                 IMAGE ID            CREATED             SIZE
<span class="ex">docker-app</span>          latest              4b727c80cf90        4 minutes ago       475MB
<span class="ex">application</span>         latest              cd497ca7013b        19 hours ago        538MB
<span class="ex">database</span>            latest              428448bc5e2d        19 hours ago        373MB
<span class="ex">ubuntu</span>              18.04               4c108a37151f        4 weeks ago         64.2MB
<span class="ex">mysql</span>               5                   a1aa4f76fab9        5 weeks ago         373MB
<span class="ex">hello-world</span>         latest              fce289e99eb9        6 months ago        1.84kB</code></pre></div>
<p>A container is launched by running an image. An image is an executable package that includes everything needed to run an application - the code, a runtime, libraries, environment variables, and configuration files. We have seen the <em>docker run</em> command that takes image name as a parameter. Image name looks like <em>[username/]repository[:tag]</em>, where <em>tag</em> is <em>latest</em> by default. To see all the containers on your machine, issue the command <code>docker container ls --all</code> (the parameter <em>–all</em> will also list stopped containers):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">CONTAINER</span> ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS                    NAMES
<span class="ex">f6a55e492493</span>        docker-app          <span class="st">&quot;/bin/sh -c &#39;python3…&quot;</span>   14 seconds ago      Up 13 seconds               0.0.0.0:8787-<span class="op">&gt;</span>8787/tcp   kind_blackwell
<span class="ex">42b33bc532ab</span>        hello-world         <span class="st">&quot;/hello&quot;</span>                 22 minutes ago      Exited (0) <span class="ex">22</span> minutes ago                            unruffled_morse</code></pre></div>
</div>
<div id="docker-application-example" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Docker application example</h3>
<p>To better understand everything, let’s develop a simple web application and run it within a docker container (solution of this part is available in folder <em>app_only</em> in <a href="https://github.com/szitnik/docker-itds">the GitHub repository</a>).</p>
<p>We have a simple Python web server implementation (<em>server.py</em>)</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> flask <span class="im">import</span> Flask
<span class="im">from</span> flask <span class="im">import</span> json
<span class="im">from</span> flask <span class="im">import</span> request
<span class="im">from</span> flask <span class="im">import</span> Response

app <span class="op">=</span> Flask(<span class="va">__name__</span>)

<span class="at">@app.route</span>(<span class="st">&#39;/&#39;</span>, methods<span class="op">=</span>[<span class="st">&#39;GET&#39;</span>])
<span class="kw">def</span> index():     
    content <span class="op">=</span> <span class="bu">open</span>(<span class="st">&quot;index.html&quot;</span>).read()
    <span class="cf">return</span> Response(content, mimetype<span class="op">=</span><span class="st">&quot;text/html&quot;</span>)

<span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:    
    app.run(host<span class="op">=</span><span class="st">&#39;0.0.0.0&#39;</span>, port<span class="op">=</span><span class="dv">8787</span>)</code></pre></div>
<p>and accompanying HTML web template (<em>index.html</em>)</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>

<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>..:: Sample application ::..<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;</span>
<span class="ot">        integrity=</span><span class="st">&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;</span><span class="ot"> crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js&quot;</span>
<span class="ot">        integrity=</span><span class="st">&quot;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&quot;</span>
<span class="ot">        crossorigin=</span><span class="st">&quot;anonymous&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://code.jquery.com/jquery-3.4.1.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>

    <span class="kw">&lt;script&gt;</span>
        <span class="at">$</span>( document ).<span class="at">ready</span>(<span class="kw">function</span>() <span class="op">{</span>
            employees <span class="op">=</span> [
                <span class="op">{</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;John Doe&quot;</span><span class="op">,</span> <span class="st">&quot;hobbies&quot;</span><span class="op">:</span> <span class="st">&quot;I like cycling, mountain biking and skiing!!!&quot;</span><span class="op">,</span> <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;Director of operations&quot;</span><span class="op">},</span>
                <span class="op">{</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;Melanie Oesch&quot;</span><span class="op">,</span> <span class="st">&quot;hobbies&quot;</span><span class="op">:</span> <span class="st">&quot;As the best jodeling singer, the love of my life is singing all day long. I come from Switzerland and have achieved many prizes. Maybe I also visit your hometown and get to know you.&quot;</span><span class="op">,</span> <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;Chairman of kids programme&quot;</span><span class="op">},</span>
                <span class="op">{</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;Vladimir Zookeeper&quot;</span><span class="op">,</span> <span class="st">&quot;hobbies&quot;</span><span class="op">:</span> <span class="st">&quot;Animals are the nicest and very polite creatures in our world. I have observed many species already and I have not found an animal that would harm me without a reason (in comparison to a human being). My dream is to play with animals every day.&quot;</span><span class="op">,</span> <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="st">&quot;Animal feeder&quot;</span><span class="op">}</span>
            ]<span class="op">;</span>

            <span class="kw">function</span> <span class="at">addEmployee</span>(employee) <span class="op">{</span>                
                <span class="at">$</span>(<span class="st">&quot;#personnelListing&quot;</span>).<span class="at">append</span>(<span class="vs">`</span>
<span class="vs">                    &lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action flex-column align-items-start&quot;&gt;</span>
<span class="vs">                        &lt;div class=&quot;d-flex w-100 justify-content-between&quot;&gt;</span>
<span class="vs">                            &lt;h5 class=&quot;mb-1&quot;&gt;</span><span class="sc">${</span><span class="va">employee</span>.<span class="at">name</span><span class="sc">}</span><span class="vs">&lt;/h5&gt;</span>
<span class="vs">                        &lt;/div&gt;</span>
<span class="vs">                        &lt;p class=&quot;mb-1&quot;&gt;</span><span class="sc">${</span><span class="va">employee</span>.<span class="at">hobbies</span><span class="sc">}</span><span class="vs">&lt;/p&gt;</span>
<span class="vs">                        &lt;small&gt;</span><span class="sc">${</span><span class="va">employee</span>.<span class="at">role</span><span class="sc">}</span><span class="vs">&lt;/small&gt;</span>
<span class="vs">                    &lt;/a&gt;</span>
<span class="vs">                `</span>)<span class="op">;</span>                
            <span class="op">}</span>

            <span class="va">$</span>.<span class="at">each</span>(employees<span class="op">,</span> <span class="kw">function</span>( index<span class="op">,</span> employee ) <span class="op">{</span>
                <span class="at">addEmployee</span>(employee)<span class="op">;</span>
            <span class="op">}</span>)<span class="op">;</span>

            <span class="kw">function</span> <span class="at">processForm</span>() <span class="op">{</span>                
                employee <span class="op">=</span> <span class="op">{</span>
                    <span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&quot;#name&quot;</span>).<span class="at">val</span>()<span class="op">,</span>
                    <span class="st">&quot;hobbies&quot;</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&quot;#hobbies&quot;</span>).<span class="at">val</span>()<span class="op">,</span>
                    <span class="st">&quot;role&quot;</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&quot;#role&quot;</span>).<span class="at">val</span>()    
                <span class="op">};</span>
                <span class="at">addEmployee</span>(employee)<span class="op">;</span>
                <span class="at">$</span>(<span class="st">&quot;#name&quot;</span>).<span class="at">val</span>(<span class="st">&quot;&quot;</span>)<span class="op">,</span>
                <span class="at">$</span>(<span class="st">&quot;#hobbies&quot;</span>).<span class="at">val</span>(<span class="st">&quot;&quot;</span>)<span class="op">,</span>
                <span class="at">$</span>(<span class="st">&quot;#role&quot;</span>).<span class="at">val</span>(<span class="st">&quot;&quot;</span>)    
            <span class="op">}</span>

            <span class="co">// Fetch all the forms we want to apply custom Bootstrap validation styles to</span>
            <span class="kw">var</span> forms <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementsByClassName</span>(<span class="st">&#39;needs-validation&#39;</span>)<span class="op">;</span>
                    <span class="co">// Loop over them and prevent submission</span>
                    <span class="kw">var</span> validation <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">filter</span>.<span class="at">call</span>(forms<span class="op">,</span> <span class="kw">function</span>(form) <span class="op">{</span>
                      <span class="va">form</span>.<span class="at">addEventListener</span>(<span class="st">&#39;submit&#39;</span><span class="op">,</span> <span class="kw">function</span>(event) <span class="op">{</span>
                        <span class="va">event</span>.<span class="at">preventDefault</span>()<span class="op">;</span>
                        <span class="va">event</span>.<span class="at">stopPropagation</span>()<span class="op">;</span>
                        <span class="cf">if</span> (<span class="va">form</span>.<span class="at">checkValidity</span>() <span class="op">===</span> <span class="kw">true</span>) <span class="op">{</span>
                            <span class="at">processForm</span>()<span class="op">;</span>
                            <span class="va">form</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&#39;was-validated&#39;</span>)<span class="op">;</span>
                        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span>
                            <span class="va">form</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;was-validated&#39;</span>)<span class="op">;</span>
                        <span class="op">}</span>
                        
                        
                      <span class="op">},</span> <span class="kw">false</span>)<span class="op">;</span>
                    <span class="op">}</span>)<span class="op">;</span>
        <span class="op">}</span>)<span class="op">;</span>
    <span class="kw">&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span>

<span class="kw">&lt;body&gt;</span>

    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;container&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-10&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;h1&gt;</span>Personnel listing<span class="kw">&lt;/h1&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-10&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;h2&gt;</span>Add an employee<span class="kw">&lt;/h2&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-10&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;form</span><span class="ot"> id=</span><span class="st">&quot;newEmployeeForm&quot;</span><span class="ot"> class=</span><span class="st">&quot;needs-validation&quot;</span><span class="ot"> novalidate</span><span class="kw">&gt;</span>
                    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;form-group&quot;</span><span class="kw">&gt;</span>
                        <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;name&quot;</span><span class="kw">&gt;</span>Name<span class="kw">&lt;/label&gt;</span>
                        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> class=</span><span class="st">&quot;form-control&quot;</span><span class="ot"> id=</span><span class="st">&quot;name&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;Enter your name&quot;</span><span class="ot"> required</span><span class="kw">&gt;</span>
                        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;invalid-feedback&quot;</span><span class="kw">&gt;</span>
                                Please provide a valid city.
                              <span class="kw">&lt;/div&gt;</span>
                    <span class="kw">&lt;/div&gt;</span>
                    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;form-group&quot;</span><span class="kw">&gt;</span>
                            <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;hobbies&quot;</span><span class="kw">&gt;</span>Hobbies<span class="kw">&lt;/label&gt;</span>
                            <span class="kw">&lt;textarea</span><span class="ot"> rows=</span><span class="st">&quot;3&quot;</span><span class="ot"> class=</span><span class="st">&quot;form-control&quot;</span><span class="ot"> id=</span><span class="st">&quot;hobbies&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;Describe your hobbies&quot;</span><span class="ot"> required</span><span class="kw">&gt;&lt;/textarea&gt;</span>
                    <span class="kw">&lt;/div&gt;</span>
                    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;form-group&quot;</span><span class="kw">&gt;</span>
                            <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;role&quot;</span><span class="kw">&gt;</span>Role<span class="kw">&lt;/label&gt;</span>
                            <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> class=</span><span class="st">&quot;form-control&quot;</span><span class="ot"> id=</span><span class="st">&quot;role&quot;</span><span class="ot"> placeholder=</span><span class="st">&quot;Role in the organization&quot;</span><span class="ot"> required</span><span class="kw">&gt;</span>
                    <span class="kw">&lt;/div&gt;</span>
                    <span class="kw">&lt;button</span><span class="ot"> type=</span><span class="st">&quot;submit&quot;</span><span class="ot"> class=</span><span class="st">&quot;btn btn-primary&quot;</span><span class="kw">&gt;</span>Save<span class="kw">&lt;/button&gt;</span>
                <span class="kw">&lt;/form&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-10&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;h2&gt;</span>Employees<span class="kw">&lt;/h2&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;row&quot;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-10&quot;</span><span class="kw">&gt;</span>
                <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;list-group&quot;</span><span class="ot"> id=</span><span class="st">&quot;personnelListing&quot;</span><span class="kw">&gt;</span>                    
                <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;/div&gt;</span>
            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-1&quot;</span><span class="kw">&gt;&lt;/div&gt;</span>
        <span class="kw">&lt;/div&gt;</span>


<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre></div>
<p>To run the application above, install the Flask library in your Python 3 environment and run the server as <code>python server.py</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"> <span class="ex">*</span> Serving Flask app <span class="st">&quot;server&quot;</span> (lazy loading)
 <span class="ex">*</span> Environment: production
   <span class="ex">WARNING</span>: This is a development server. Do not use it in a production deployment.
   <span class="ex">Use</span> a production WSGI server instead.
 <span class="ex">*</span> Debug mode: off
 <span class="ex">*</span> Running on http://0.0.0.0:8787/ (Press CTRL+C to quit)</code></pre></div>
<p>Your web application is now accessible at <a href="http://localhost:8787" class="uri">http://localhost:8787</a>. It is a simple JS-based we page, where you can add new employees into a local JS list.</p>
<div class="figure">
<img src="data/Docker/webapp.png" />

</div>
<div id="dockerfiles" class="section level4">
<h4><span class="header-section-number">3.3.2.1</span> Dockerfiles</h4>
<p>To define a container and be able to create an image, we must write a special file, called <em>Dockerfile</em>. Dockerfile defines what goes on in the environment inside your container. Access to resources like networking interfaces and disk drives is virtualized inside this environment, which is isolated from the rest of our system, so we need to map ports to the outside world, and be specific about what files we want to “copy in” to that environment. After doing that, we can expect that the build of our application defined in this Dockerfile behaves identically wherever it runs.</p>
<p>Let’s create a fil named <em>Dockerfile</em> with the following content:</p>
<pre class="docker"><code># Use an official Ubuntu runtime as a parent image
FROM ubuntu:18.04

# Set the current working directory to /work
WORKDIR /work

# Copy the current directory contents into the container at /work
ADD ./ .

# Install and configure your environment
RUN apt-get update \
    &amp;&amp; apt-get install -y python3 python3-pip \
    &amp;&amp; pip3 install flask

# Make port 8787 available to the world outside this container (i.e. docker world)
EXPOSE 8787

# Run server.py when the container launches
ENTRYPOINT python3 server.py</code></pre>
<p>A full list of Dockerfile commands is described at <a href="https://docs.docker.com/engine/reference/builder/">the official Dockerfile documentation</a>.</p>
<p>If there is a need to prepare some specifics in the environment, it can be tedious to manually write all the <em>RUN</em> commands and check whether the application runs as expected. We can therefore always directly run the parent image and enter it’s shell to manually prepare the environment. We then copy the working commands into a Dockerfile and build our image. To create a container from a specific image and access it’s shell, run the following command: <code>docker run -it ubuntu:18.04 /bin/bash</code>.</p>
</div>
<div id="adding-everything-together" class="section level4">
<h4><span class="header-section-number">3.3.2.2</span> Adding everything together</h4>
<p>Now we have the files <em>server.py</em>, <em>index.html</em> and <em>Dockerfile</em> in the same folder. If we move to the same folder, we can build a Docker image named <em>docker-app</em> using the following command <code>docker build -t docker-app .</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Sending</span> build context to Docker daemon  9.728kB
<span class="ex">Step</span> 1/6 : FROM ubuntu:18.04
 <span class="ex">---</span><span class="op">&gt;</span> 4c108a37151f

<span class="ex">....</span>

<span class="ex">Successfully</span> built 4b727c80cf90
<span class="ex">Successfully</span> tagged docker-app:latest</code></pre></div>
<p>Now the image is available in our Docker system (verify that using <em>docker image</em> command as we did above). To create a running container based on our image, run <code>docker run -p 8787:8787 docker-app</code>:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"> <span class="ex">*</span> Serving Flask app <span class="st">&quot;server&quot;</span> (lazy loading)
 <span class="ex">*</span> Environment: production
   <span class="ex">WARNING</span>: This is a development server. Do not use it in a production deployment.
   <span class="ex">Use</span> a production WSGI server instead.
 <span class="ex">*</span> Debug mode: off
 <span class="ex">*</span> Running on http://0.0.0.0:8787/ (Press CTRL+C to quit)</code></pre></div>
<p>With this command we also map the host’s port 8787 to the Docker container’s port 8787. For additional options of <em>docker run</em> command, see <a href="https://docs.docker.com/engine/reference/run/">the official reference</a>. Our web application is now accessible at the same address as before, but is now running in a Docker container!</p>
<p>Sometimes we would still like to directly access the shell of a running Docker container and check something (another option would be to install an ssh server into the container and map a port to the host). First, we get the ID of our container using the command <code>docker ps</code>, then we execute <code>docker exec -it CONTAINER_ID /bin/bash</code>. Now we are connected directly to the “machine” that hosts our web application. If our running application generates logs, we can easily access them using <code>docker logs CONTAINER_ID</code>.</p>
</div>
</div>
<div id="volumes" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Volumes</h3>
<p>By default all files created inside a container are stored on a writable container layer. Note that:</p>
<ul>
<li>The data doesn’t persist when that container no longer exists and it can be difficult to get the data out of the container if another process needs it.</li>
<li>A container’s writable layer is tightly coupled to the host machine on which the container is running. You can’t easily move the data somewhere else.</li>
<li>Writing into a container’s writable layer requires a storage driver to manage the filesystem. The storage driver provides a union filesystem, using the Linux kernel. This extra abstraction reduces performance as compared to using data volumes, which write directly to the host filesystem.</li>
</ul>
<p>As a result, best practices are to always create containers read-only. Docker thus provides two solutions to store files, which are persisted also after the container removal - volumes and bind mounts.</p>
<p><a href="https://docs.docker.com/storage/volumes/">Volumes</a> are the best way to persist data in Docker.</p>
<p>Commands to manage Docker volumes start with <code>docker volume</code> (add <em>–help</em> parameter to list all options). After the volume is created, we can map it to a specific mount point when running the container (see <a href="https://docs.docker.com/engine/reference/run/">docker run command reference</a> for more).</p>
</div>
<div id="docker-application-example-with-multiple-services" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Docker application example with multiple services</h3>
<p>When developing an application that consist of multiple services, we can also create one “fat” container hosting all the services. This is not the Docker best practice as therefore each service should be run within a separate Docker container.</p>
<p>Let’s upgrade our web application and add database support to it (solution of this part is available in folder <em>app_and_database</em> in <a href="https://github.com/szitnik/docker-itds">the GitHub repository</a>).</p>
<div id="web-application-service" class="section level4">
<h4><span class="header-section-number">3.3.4.1</span> Web application service</h4>
<p>The web application service is similar to the example above. The differences are the installation of an additional <em>mysql-connector-python</em> library into the container (<em>Dockerfile</em>), implementation of REST calls to the backend (<em>index.html</em>) and server endpoints implementation (<em>server.py</em>).</p>
<p>In the implementation we should notice the connection settings from the application to the database. As we said, both services will run separately in a Docker container, so we should provide a connection. When we run the services, we should name the containers and create a network among running services. Connection settings look like:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">config <span class="op">=</span> {
  <span class="st">&#39;user&#39;</span>: <span class="st">&#39;root&#39;</span>,
  <span class="st">&#39;password&#39;</span>: <span class="st">&#39;BeReSeMi.DataScience&#39;</span>,
  <span class="st">&#39;host&#39;</span>: <span class="st">&#39;database&#39;</span>,
  <span class="st">&#39;database&#39;</span>: <span class="st">&#39;data_science&#39;</span>,
  <span class="st">&#39;raise_on_warnings&#39;</span>: <span class="va">False</span>
}</code></pre></div>
<p>Note that the <em>host</em> setting and port 3306 are used to connect to a MySQL database. In the MySQL container that port will also needed to be exposed within the Dockerfile. Docker services can be connected using separate <em>virtual networks</em> and by default, <em>bridge networks</em> are created to interconnect running containers. For more sophisticated examples, see <a href="https://docs.docker.com/network/">the official network setting guidelines</a>.</p>
</div>
<div id="database-service" class="section level4">
<h4><span class="header-section-number">3.3.4.2</span> Database service</h4>
<p>For the database service, we will use already created image, which is available from <a href="https://hub.docker.com/_/mysql">the public MySQL image repository</a> (for more info on repositories, see section <a href="docker-container-platform.html#registries">3.3.4.4</a>). Along with the image, there are also instructions of how to use it with the parameters, where to put initial script files, versions, Dockerfile sources and other references, which ease the deployment process without creating complicated Dockerfiles by ourselves.</p>
<p>In our case the database dockerfile looks as follows:</p>
<pre><code># Parent image
FROM mysql:5

# Copying all files in curent dir to container
ADD ./ /docker-entrypoint-initdb.d

# Updating permissions for the copied files
RUN /bin/bash -c &#39;chmod a+rx /docker-entrypoint-initdb.d/*&#39;</code></pre>
<p>Observe that we only copied files into a special folder in the container (<em>/docker-entrypoint-initdb.d</em>) which was previously set as init folder, where all the <em>.sql</em> scripts are run at startup.</p>
<p>To test our Dockerfile, we can also run it separately using the command (from the <em>database</em> folder) <code>docker build -t docker-db . &amp;&amp; docker run -p 3306:3306 -e MYSQL_ROOT_PASSWORD=BeReSeMi docker-db</code>. We set the database password of the root user using an environment variable, which can be used to connect to the database. Now we can connect to the database from the host machine - e.g. use <a href="https://www.mysql.com/products/workbench/">MySQL Workbench</a> and connection settings to <em>localhost:3306</em>. A database named <em>data_science</em> should now be created along with the <em>employees</em> table and few entries.</p>
</div>
<div id="docker-compose" class="section level4">
<h4><span class="header-section-number">3.3.4.3</span> Docker compose</h4>
<p>Now we know how to create docker containers separately. What remains is to connect them and run them more easily. We will utilize the Docker compose tool.</p>
<p>Docker Compose is a tool for defining and running multi-container Docker applications. It uses YAML files to configure the application’s services and performs the creation and start-up process of all the containers with a single command. The docker-compose CLI utility allows us to run commands on multiple containers at once, for example, building images, scaling containers, running containers that were stopped, and more. The docker-compose.yml file is used to define an application’s services and includes various configuration options.</p>
<p>Before proceeding, we’ll stop all running containers and move to the <code>app_and_database</code> folder. First, let’s check the <em>docker-compose.yml</em> file:</p>
<pre><code>version: &#39;3.7&#39;

services:

  database:
    image: database
    build: ./database
    command: --default-authentication-plugin=mysql_native_password
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: BeReSeMi.DataScience
    ports:
      - 3306:3306
    volumes:
      - ds_databases:/var/lib/mysql
    networks:
      - dsnet

  application:
    image: application
    build: ./application    
    depends_on:
      - database
    restart: always
    ports:
      - &quot;8787:8787&quot;
    networks:
      - dsnet

networks:
  dsnet:
    driver: bridge

volumes:
  ds_databases:  </code></pre>
<p>In the <em>docker-compose</em> configuration we define two containers, one named <em>database</em> and other <em>application</em>. Parameter <em>build</em> defines the folder with an appropriate Dockerfile or directly an already built image name. Parameter <em>restart</em> instructs the container to automaticallt restart its service if it suddenly stops due to crash or error.</p>
<p>Parameter <em>depends_on</em> created dependencies between containers, so the application container will be started after the database container is running. Be aware that this is based on the time when service is initializing, so if database script initialization takes a long time, the database service may run later than the application service.</p>
<p>With the <em>volumes</em> parameter we map a specific folder in the container to a named volume <em>db_databases</em> - this folder will contain the database data. We also define a network named <em>dsnet</em> with the bridge configuration and therefore both containers will be able to communicate with each other.</p>
<p>To run the <em>docker-compose</em> configuration, run <code>docker-compose up</code> (for detached mode add parameter <em>-d</em> at the end). Both containers should be created and running - to verify, navigate to <a href="http://localhost:8787" class="uri">http://localhost:8787</a> and add some employees. Data should be persistent and stored into the database.</p>
<p>To shutdown the containers, press CTRL+C (or run <code>docker-compose down</code> if you started containers in a detached mode).</p>
</div>
<div id="registries" class="section level4">
<h4><span class="header-section-number">3.3.4.4</span> Image registries</h4>
<p>We have already mentioned that there exist prepared images, which can be retried from the public repositories. Repositories can be public or private. Two main public registries are <a href="https://docs.docker.com/docker-hub">Docker Hub</a> and Docker Cloud. Docker Hub is the default registry where Docker looks for images. Docker clients connect to Docker repositories to download (<em>pull</em>) images for use or upload (<em>push</em>) images that they have built.</p>
<p>We have published the image of the first example in the repository <em>szitnik/docker-ds-app</em> (<a href="https://hub.docker.com/r/szitnik/docker-ds-app">link</a>). You can pull the image (<em>docker pull</em> command) or run it directly with the command:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">docker</span> run -p 8787:8787 szitnik/docker-ds-app</code></pre></div>
<p>The functionality should be the same as with the image you created during this tutorial.</p>
<p>To publish images to Docker Hub, we first need to create and account. For example, we could take the built image <em>docker-app</em> from the first example and push it to the Docker Hub using the following commands:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Provide credentials and login</span>
<span class="ex">docker</span> login

<span class="co"># Tag your local image</span>
<span class="ex">docker</span> tag docker-app USERNAME/PUBLIC_IMAGE_NAME:TAG

<span class="co"># Publish your image</span>
<span class="ex">docker</span> push USERNAME/PUBLIC_IMAGE_NAME:TAG</code></pre></div>
<p>If we do not define the tag, it will be <em>latest</em> by default. We can access our image via Web interface at <em><a href="https://hub.docker.com/r/USERNAME/PUBLIC_IMAGE_NAME*" class="uri">https://hub.docker.com/r/USERNAME/PUBLIC_IMAGE_NAME*</a>, where we can also add a description, instructions, publish the </em>Dockerfile* or connect its content to your Git repository. Now anybody can pull &amp; run our image using the above procedure.</p>
</div>
</div>
</div>
<div id="further-reading-and-references-1" class="section level2">
<h2><span class="header-section-number">3.4</span> Further reading and references</h2>
<ul>
<li>Check <a href="https://www.docker.com">the Docker official web page</a> and <a href="https://docs.docker.com/get-started/">the Docker tutorial</a>.</li>
<li>For more advanced topics get to know container orchestration solutions like <a href="https://docs.docker.com/engine/swarm/">Docker Swarm</a> or <a href="https://kubernetes.io/">Kubernetes</a>.</li>
<li><a href="https://www.manning.com/books/docker-in-action">Docker in Action</a> book teaches readers how to create, deploy, and manage applications hosted in Docker containers.</li>
<li><a href="https://dockerbook.com/">The Docker Book</a> is inteded for complete beginners offering 268 pages of demos and live tutorials.</li>
<li><a href="http://shop.oreilly.com/product/0636920036791.do">Docker Cookbook</a> presents more advanced Docker techniques like mounting data across multiple servers, distributed containers, detailed monitoring, networking across multiple hosts, accessing Docker in the cloud and merging with other platforms like Kubernetes.</li>
</ul>
</div>
<div id="learning-outcomes-1" class="section level2">
<h2><span class="header-section-number">3.5</span> Learning outcomes</h2>
<p>Data science students should work towards obtaining the knowledge and the skills that enable them to:</p>
<ul>
<li>Use and extend existing Docker image.</li>
<li>Package an application consisting of multiple services into one or more containers and manage them.</li>
<li>Publish reproducible algorithms to Docker Hub.</li>
</ul>
</div>
<div id="practice-problems-1" class="section level2">
<h2><span class="header-section-number">3.6</span> Practice problems</h2>
<ul>
<li>Create a simple Python program or web application, write a Dockerfile to compile an image an publish it on Docker Hub. If you are more proficient with some other language, use a framework of your choice.</li>
<li>Write a service which needs multiple servers deployed and run everything using Docker Compose. Dockerize your Introduction to Data Science project and publish it to Docker Hub. Add instructions of how to use your image.</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-docker">
<p>Noyes, Katherine. 2008. “Docker: A ’Shipping Container’ for Linux Code.” <a href="https://www.linux.com/news/docker-shipping-container-linux-code" class="uri">https://www.linux.com/news/docker-shipping-container-linux-code</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="source-code-control.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="web-scraping.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
