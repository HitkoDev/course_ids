<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 6 Summarizing data - visualization | Introduction to data science</title>
  <meta name="description" content="Course notes">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 6 Summarizing data - visualization | Introduction to data science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://fri-datascience.github.io/course_itds/" />
  
  <meta property="og:description" content="Course notes" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Summarizing data - visualization | Introduction to data science" />
  
  <meta name="twitter:description" content="Course notes" />
  

<meta name="author" content="Slavko Žitnik, Tomaž Curk, Erik Štrumbelj">


<meta name="date" content="2019-07-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="summarizing-data-the-basics.html">
<link rel="next" href="dynamic-reports-and-reproducibility.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to data science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="python-programming-language.html"><a href="python-programming-language.html"><i class="fa fa-check"></i><b>1</b> Python programming language</a><ul>
<li class="chapter" data-level="1.1" data-path="python-programming-language.html"><a href="python-programming-language.html#basic-characteristics"><i class="fa fa-check"></i><b>1.1</b> Basic characteristics</a></li>
<li class="chapter" data-level="1.2" data-path="python-programming-language.html"><a href="python-programming-language.html#why-python"><i class="fa fa-check"></i><b>1.2</b> Why Python?</a></li>
<li class="chapter" data-level="1.3" data-path="python-programming-language.html"><a href="python-programming-language.html#setting-up-the-environment"><i class="fa fa-check"></i><b>1.3</b> Setting up the environment</a><ul>
<li class="chapter" data-level="1.3.1" data-path="python-programming-language.html"><a href="python-programming-language.html#anaconda-distribution-installation"><i class="fa fa-check"></i><b>1.3.1</b> Anaconda distribution installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="python-programming-language.html"><a href="python-programming-language.html#pure-python-distribution-installation"><i class="fa fa-check"></i><b>1.3.2</b> Pure Python distribution installation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="python-programming-language.html"><a href="python-programming-language.html#installing-dependencies"><i class="fa fa-check"></i><b>1.4</b> Installing dependencies</a></li>
<li class="chapter" data-level="1.5" data-path="python-programming-language.html"><a href="python-programming-language.html#jupyter-notebooks"><i class="fa fa-check"></i><b>1.5</b> Jupyter notebooks</a><ul>
<li class="chapter" data-level="1.5.1" data-path="python-programming-language.html"><a href="python-programming-language.html#running-a-jupyter-notebook"><i class="fa fa-check"></i><b>1.5.1</b> Running a Jupyter notebook</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="python-programming-language.html"><a href="python-programming-language.html#short-introduction-to-python"><i class="fa fa-check"></i><b>1.6</b> Short introduction to Python</a><ul>
<li class="chapter" data-level="" data-path="python-programming-language.html"><a href="python-programming-language.html#basics"><i class="fa fa-check"></i>Basics</a></li>
<li class="chapter" data-level="1.6.1" data-path="python-programming-language.html"><a href="python-programming-language.html#control-flow-operations"><i class="fa fa-check"></i><b>1.6.1</b> Control flow operations</a></li>
<li class="chapter" data-level="1.6.2" data-path="python-programming-language.html"><a href="python-programming-language.html#functions"><i class="fa fa-check"></i><b>1.6.2</b> Functions</a></li>
<li class="chapter" data-level="1.6.3" data-path="python-programming-language.html"><a href="python-programming-language.html#classes-and-objects"><i class="fa fa-check"></i><b>1.6.3</b> Classes and objects</a></li>
<li class="chapter" data-level="1.6.4" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ides-and-code-editors"><i class="fa fa-check"></i><b>1.6.4</b> Python IDE’s and code editors</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="python-programming-language.html"><a href="python-programming-language.html#python-ecosystem-for-data-science"><i class="fa fa-check"></i><b>1.7</b> Python ecosystem for Data Science</a></li>
<li class="chapter" data-level="1.8" data-path="python-programming-language.html"><a href="python-programming-language.html#further-reading-and-references"><i class="fa fa-check"></i><b>1.8</b> Further reading and references</a></li>
<li class="chapter" data-level="1.9" data-path="python-programming-language.html"><a href="python-programming-language.html#learning-outcomes"><i class="fa fa-check"></i><b>1.9</b> Learning outcomes</a></li>
<li class="chapter" data-level="1.10" data-path="python-programming-language.html"><a href="python-programming-language.html#practice-problems"><i class="fa fa-check"></i><b>1.10</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="source-code-control.html"><a href="source-code-control.html"><i class="fa fa-check"></i><b>2</b> Source code control</a></li>
<li class="chapter" data-level="3" data-path="docker-container-platform.html"><a href="docker-container-platform.html"><i class="fa fa-check"></i><b>3</b> Docker container platform</a><ul>
<li class="chapter" data-level="3.1" data-path="docker-container-platform.html"><a href="docker-container-platform.html#why-docker"><i class="fa fa-check"></i><b>3.1</b> Why Docker?</a></li>
<li class="chapter" data-level="3.2" data-path="docker-container-platform.html"><a href="docker-container-platform.html#setting-up-the-environment-1"><i class="fa fa-check"></i><b>3.2</b> Setting up the environment</a></li>
<li class="chapter" data-level="3.3" data-path="docker-container-platform.html"><a href="docker-container-platform.html#short-introduction-to-docker"><i class="fa fa-check"></i><b>3.3</b> Short introduction to Docker</a><ul>
<li class="chapter" data-level="3.3.1" data-path="docker-container-platform.html"><a href="docker-container-platform.html#basics-1"><i class="fa fa-check"></i><b>3.3.1</b> Basics</a></li>
<li class="chapter" data-level="3.3.2" data-path="docker-container-platform.html"><a href="docker-container-platform.html#understanding-docker-ecosystem"><i class="fa fa-check"></i><b>3.3.2</b> Understanding Docker ecosystem</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="docker-container-platform.html"><a href="docker-container-platform.html#further-reading-and-references-1"><i class="fa fa-check"></i><b>3.4</b> Further reading and references</a></li>
<li class="chapter" data-level="3.5" data-path="docker-container-platform.html"><a href="docker-container-platform.html#learning-outcomes-1"><i class="fa fa-check"></i><b>3.5</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.6" data-path="docker-container-platform.html"><a href="docker-container-platform.html#practice-problems-1"><i class="fa fa-check"></i><b>3.6</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>4</b> Web scraping</a></li>
<li class="chapter" data-level="5" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html"><i class="fa fa-check"></i><b>5</b> Summarizing data - the basics</a><ul>
<li class="chapter" data-level="5.1" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#descriptive-statistics-for-univariate-distributions"><i class="fa fa-check"></i><b>5.1</b> Descriptive statistics for univariate distributions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#central-tendency"><i class="fa fa-check"></i><b>5.1.1</b> Central tendency</a></li>
<li class="chapter" data-level="5.1.2" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#dispersion"><i class="fa fa-check"></i><b>5.1.2</b> Dispersion</a></li>
<li class="chapter" data-level="5.1.3" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>5.1.3</b> Skewness and kurtosis</a></li>
<li class="chapter" data-level="5.1.4" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#nominal-variables"><i class="fa fa-check"></i><b>5.1.4</b> Nominal variables</a></li>
<li class="chapter" data-level="5.1.5" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#testing-the-shape-of-a-distribution"><i class="fa fa-check"></i><b>5.1.5</b> Testing the shape of a distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#descriptive-statistics-for-bivariate-distributions"><i class="fa fa-check"></i><b>5.2</b> Descriptive statistics for bivariate distributions</a></li>
<li class="chapter" data-level="5.3" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#further-reading-and-references-2"><i class="fa fa-check"></i><b>5.3</b> Further reading and references</a></li>
<li class="chapter" data-level="5.4" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#learning-outcomes-2"><i class="fa fa-check"></i><b>5.4</b> Learning outcomes</a></li>
<li class="chapter" data-level="5.5" data-path="summarizing-data-the-basics.html"><a href="summarizing-data-the-basics.html#practice-problems-2"><i class="fa fa-check"></i><b>5.5</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html"><i class="fa fa-check"></i><b>6</b> Summarizing data - visualization</a><ul>
<li class="chapter" data-level="6.1" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>6.1</b> Histograms and density plots</a></li>
<li class="chapter" data-level="6.2" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#bar-plot"><i class="fa fa-check"></i><b>6.2</b> Bar plot</a></li>
<li class="chapter" data-level="6.3" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#pie-chart"><i class="fa fa-check"></i><b>6.3</b> Pie chart</a></li>
<li class="chapter" data-level="6.4" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#scatterplot"><i class="fa fa-check"></i><b>6.4</b> Scatterplot</a></li>
<li class="chapter" data-level="6.5" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#d-density-plot"><i class="fa fa-check"></i><b>6.5</b> 2D density plot</a></li>
<li class="chapter" data-level="6.6" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#boxplot"><i class="fa fa-check"></i><b>6.6</b> Boxplot</a></li>
<li class="chapter" data-level="6.7" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#violin-plot"><i class="fa fa-check"></i><b>6.7</b> Violin plot</a></li>
<li class="chapter" data-level="6.8" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#correlogram"><i class="fa fa-check"></i><b>6.8</b> Correlogram</a></li>
<li class="chapter" data-level="6.9" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#a-comprehensive-summary"><i class="fa fa-check"></i><b>6.9</b> A comprehensive summary</a></li>
<li class="chapter" data-level="6.10" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#further-reading-and-references-3"><i class="fa fa-check"></i><b>6.10</b> Further reading and references</a></li>
<li class="chapter" data-level="6.11" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#learning-outcomes-3"><i class="fa fa-check"></i><b>6.11</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.12" data-path="summarizing-data-visualization.html"><a href="summarizing-data-visualization.html#practice-problems-3"><i class="fa fa-check"></i><b>6.12</b> Practice problems</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dynamic-reports-and-reproducibility.html"><a href="dynamic-reports-and-reproducibility.html"><i class="fa fa-check"></i><b>7</b> Dynamic reports and reproducibility</a></li>
<li class="chapter" data-level="8" data-path="data-summarization-multivariate-data.html"><a href="data-summarization-multivariate-data.html"><i class="fa fa-check"></i><b>8</b> Data summarization - multivariate data</a></li>
<li class="chapter" data-level="9" data-path="relational-databases.html"><a href="relational-databases.html"><i class="fa fa-check"></i><b>9</b> Relational databases</a></li>
<li class="chapter" data-level="10" data-path="predictive-modelling.html"><a href="predictive-modelling.html"><i class="fa fa-check"></i><b>10</b> Predictive modelling</a></li>
<li class="chapter" data-level="11" data-path="large-datasets-and-non-relational-databases.html"><a href="large-datasets-and-non-relational-databases.html"><i class="fa fa-check"></i><b>11</b> Large datasets and non relational databases</a></li>
<li class="chapter" data-level="12" data-path="parallel-and-distributed-computing.html"><a href="parallel-and-distributed-computing.html"><i class="fa fa-check"></i><b>12</b> Parallel and distributed computing</a></li>
<li class="chapter" data-level="13" data-path="other-important-topics.html"><a href="other-important-topics.html"><i class="fa fa-check"></i><b>13</b> Other important topics</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>      
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summarizing-data---visualization" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Summarizing data - visualization</h1>
<p>Data summarization - the art of conveying the same information in less time/space or conveying more information in the same amount of time/space. Data summarization is typically numerical or visual (or combined) and is a key skill in data analysis as we use it to provide insights both to others and to ourselves. Data summarization is also an important component of exploratory data analysis. In this chapter we will focus on the basic visualization techniques for univariate and bivariate data. Advanced data summarization techniques will be covered in a later chapter.</p>
<p>We will be using R and ggplot2, but the contents of this chapter are meant to be tool-agnostic. Readers should use the programming language and tools that they are most comfortable with. However, do not sacrifice expresiveness or profesionallism for the sake of convenience - if your current toolbox limits you in any way, learn new tools!</p>
<p>In most examples in this section we’ll be using the NBA players dataset that contains some basic information about NBA players in the period up to year 2009.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./data/NBAplayers.csv&quot;</span>)
dat &lt;-<span class="st"> </span>dat[<span class="kw">complete.cases</span>(dat),]
dat<span class="op">$</span>height &lt;-<span class="st"> </span>dat<span class="op">$</span>h_feet <span class="op">*</span><span class="st"> </span><span class="fl">30.48</span> <span class="op">+</span><span class="st"> </span>dat<span class="op">$</span>h_inches <span class="op">*</span><span class="st"> </span><span class="fl">2.54</span> <span class="co"># in cm</span>
dat<span class="op">$</span>weight &lt;-<span class="st"> </span>dat<span class="op">$</span>weight <span class="op">*</span><span class="st"> </span><span class="fl">0.4536</span>
<span class="kw">summary</span>(dat)</code></pre></div>
<pre><code>##        ilkid        firstname        lastname    position  firstseason  
##  ABDELAL01:   1   John   :  90   Williams:  66   C: 627   Min.   :1946  
##  ABDULKA01:   1   Bob    :  88   Smith   :  54   F:1665   1st Qu.:1967  
##  ABDULMA01:   1   Jim    :  70   Johnson :  52   G:1614   Median :1980  
##  ABDULTA01:   1   Mike   :  66   Jones   :  44            Mean   :1979  
##  ABDURSH01:   1   Bill   :  54   Davis   :  37            3rd Qu.:1995  
##  ABERNTO01:   1   Tom    :  46   Brown   :  34            Max.   :2009  
##  (Other)  :3900   (Other):3492   (Other) :3619                          
##    lastseason       h_feet         h_inches          weight      
##  Min.   :1946   Min.   :5.000   Min.   :-6.000   Min.   : 60.33  
##  1st Qu.:1970   1st Qu.:6.000   1st Qu.: 3.000   1st Qu.: 83.92  
##  Median :1985   Median :6.000   Median : 6.000   Median : 92.99  
##  Mean   :1983   Mean   :6.022   Mean   : 5.581   Mean   : 93.91  
##  3rd Qu.:2001   3rd Qu.:6.000   3rd Qu.: 8.000   3rd Qu.:102.06  
##  Max.   :2009   Max.   :7.000   Max.   :11.500   Max.   :149.69  
##                                                                  
##                                    college                   birthdate   
##                                        : 200   1945-01-01 00:00:00:   8  
##  University of California - Los Angeles:  72   1944-01-01 00:00:00:   5  
##  University of North Carolina          :  71   1921-01-01 00:00:00:   4  
##  University of Kentucky                :  67   1931-01-01 00:00:00:   4  
##  Indiana University                    :  54   1919-01-01 00:00:00:   3  
##  University of Kansas                  :  52   1923-09-18 00:00:00:   3  
##  (Other)                               :3390   (Other)            :3879  
##      height     
##  Min.   :160.0  
##  1st Qu.:190.5  
##  Median :198.1  
##  Mean   :197.7  
##  3rd Qu.:205.7  
##  Max.   :231.1  
## </code></pre>
<p>As we mentioned at the beginning - summarization is the art of conveying the same information in less time/space or conveying more information in the same amount of time/space. Visual summaries are often a more informative, faster and more concise alternative to numerical summaries. This will also be our guidelines for improving our visualizations. Can we convey the same information in substantially less time/space? Can we convey more information without using more time/space? If the answer is yes, then we should!</p>
<p>We’ll illustrate this point with an example that features some common mistakes or inefficiencies people do when visualizing data. Our goal will be to summarize how the average height of NBA Centers, Forwards, and Guards that started that year has changed over time.</p>
<p>Let’s plot the averages over time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;G&quot;</span>,]
<span class="kw">plot</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean))</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;F&quot;</span>,]
<span class="kw">plot</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean))</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;C&quot;</span>,]
<span class="kw">plot</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean))</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-2-3.png" width="672" /></p>
<p>The plots reveal information that the average height of rookies has been increasing over time for all three groups of players. However, we should immediately recognize plotting 3 things separately that could be plotted on the same plot wastes space and the reader’s time, having to jump back and forth from one plot to another. This also makes comparison of the time series very difficult. Remember that how we present our results is how we treat our reader. These kind of plots say to the reader that our time and convenience are more important than theirs.</p>
<p>Let’s remedy this mistake:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;G&quot;</span>,]
<span class="kw">plot</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean), <span class="dt">col =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">180</span>, <span class="dv">220</span>))
tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;F&quot;</span>,]
<span class="kw">points</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
tmp &lt;-<span class="st"> </span>dat[dat<span class="op">$</span>position <span class="op">==</span><span class="st"> &quot;C&quot;</span>,]
<span class="kw">points</span>(<span class="kw">tapply</span>(tmp<span class="op">$</span>height, tmp<span class="op">$</span>firstseason, mean), <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>)</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>This plot uses up only a third of the space and simplifies comparison. This reveals new information, such as that centers (black) are higher than forwards (red) who are higher than guards (green), that there was a more steep increase in the beginning of the period and that forwards these days are as high on average as centers were in the past.</p>
<p>However, there are several things that we can still improve on. The first will be one of the fundamental rules of statistical plotting - <strong>always label your axes</strong>! The reader should never look elsewhere for information about what is plotted. We will also take this opportunity to reorganize our data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(reshape2)
tmp &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">tapply</span>(dat<span class="op">$</span>height, <span class="kw">list</span>(dat<span class="op">$</span>position, dat<span class="op">$</span>firstseason), mean))
<span class="kw">names</span>(tmp) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;position&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;height&quot;</span>)
<span class="kw">plot</span>(tmp<span class="op">$</span>year, tmp<span class="op">$</span>height, <span class="dt">col =</span> tmp<span class="op">$</span>position, <span class="dt">xlab =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;average rookie height (cm)&quot;</span>)</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>This is starting to look better. However, we should also include the legend - if we describe the meaning of the colors in the figure caption (or worse, in text), the reader will have to jump from text to figure, wasting time. Additionally, some people (and publications) prefer to add a title to their plot, explaining concisely what is in it, therefore making it more self containes. Others prefer to explain the plot in the caption. We’ll add a title:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">tapply</span>(dat<span class="op">$</span>height, <span class="kw">list</span>(dat<span class="op">$</span>position, dat<span class="op">$</span>firstseason), mean))
<span class="kw">names</span>(tmp) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;position&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;height&quot;</span>)
<span class="kw">plot</span>(tmp<span class="op">$</span>year, tmp<span class="op">$</span>height, <span class="dt">col =</span> tmp<span class="op">$</span>position, <span class="dt">xlab =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;average rookie height (cm)&quot;</span>)
<span class="kw">legend</span>(<span class="dv">1997</span>, <span class="dv">190</span>, <span class="dt">legend=</span><span class="kw">c</span>(<span class="st">&quot;centers&quot;</span>, <span class="st">&quot;forwards&quot;</span>, <span class="st">&quot;guards&quot;</span>),
       <span class="dt">col=</span><span class="kw">c</span>(<span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>), <span class="dt">lty =</span> <span class="dv">1</span>, <span class="dt">cex=</span><span class="fl">0.8</span>)
<span class="kw">title</span>(<span class="st">&quot;The average height of NBA rookies by playing position over time.&quot;</span>)</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>This is now a quite decent and self-contained plot. Next, we’ll add a bit of polish. Pleasing aesthetics might not add much to the informativeness of a plot, but they do make our work look more professional. They are also indicate that we put in the extra effort. Of course, we should never let aesthetics get in the way of efficiency and informativeness (see pie-chart example in the following section):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">tapply</span>(dat<span class="op">$</span>height, <span class="kw">list</span>(dat<span class="op">$</span>position, dat<span class="op">$</span>firstseason), mean))
<span class="kw">names</span>(tmp) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;position&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;height&quot;</span>)
<span class="kw">levels</span>(tmp<span class="op">$</span>position) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;centers&quot;</span>, <span class="st">&quot;forwards&quot;</span>, <span class="st">&quot;guards&quot;</span>)
<span class="kw">ggplot</span>(tmp, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> height, <span class="dt">colour =</span> position)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;average rookie height (cm)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;The average height of NBA rookies by playing position over time.&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>By using ggplot2 we can make our visualizations look better, but it is also very convenient for adding some extra layers to our plots. For example, a smoothed line with standard errors to help us focus on the trend and not the individual data points:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">tapply</span>(dat<span class="op">$</span>height, <span class="kw">list</span>(dat<span class="op">$</span>position, dat<span class="op">$</span>firstseason), mean))
<span class="kw">names</span>(tmp) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;position&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;height&quot;</span>)
<span class="kw">levels</span>(tmp<span class="op">$</span>position) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;centers&quot;</span>, <span class="st">&quot;forwards&quot;</span>, <span class="st">&quot;guards&quot;</span>)
<span class="kw">ggplot</span>(tmp, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> height, <span class="dt">colour =</span> position)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;average rookie height (cm)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;The average height of NBA rookies by playing position over time.&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>()</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>There is one more thing that we can typically do in such cases - label the data directly and omit the legend. This saves both space and user’s time, especially if we have several lines/colors in our plot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">tapply</span>(dat<span class="op">$</span>height, <span class="kw">list</span>(dat<span class="op">$</span>position, dat<span class="op">$</span>firstseason), mean))
<span class="kw">names</span>(tmp) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;position&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;height&quot;</span>)
<span class="kw">levels</span>(tmp<span class="op">$</span>position) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;centers&quot;</span>, <span class="st">&quot;forwards&quot;</span>, <span class="st">&quot;guards&quot;</span>)
<span class="kw">ggplot</span>(tmp, <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> height, <span class="dt">colour =</span> position)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;average rookie height (cm)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;The average height of NBA rookies by playing position over time.&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">   </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="dv">1970</span>, <span class="dt">y =</span> <span class="dv">212</span>, <span class="dt">label =</span> <span class="st">&quot;centers&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="dv">1970</span>, <span class="dt">y =</span> <span class="dv">203</span>, <span class="dt">label =</span> <span class="st">&quot;forwards&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;darkgreen&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="dv">1970</span>, <span class="dt">y =</span> <span class="dv">192</span>, <span class="dt">label =</span> <span class="st">&quot;guards&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-8"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-8-1.png" alt="The data show that the average heights of all three groups of players have been increasing. The difference between forwards and centers is approximately the same throughout the period while the average height of guards has been increasing at a slower pace. Note that the lines are loess smoothed lines with standard error estimates." width="672" />
<p class="caption">
Figure 6.1: The data show that the average heights of all three groups of players have been increasing. The difference between forwards and centers is approximately the same throughout the period while the average height of guards has been increasing at a slower pace. Note that the lines are loess smoothed lines with standard error estimates.
</p>
</div>
<p>We’ve equipped the above plot with a caption that states the information that we would like to point out to the reader (the plot serves as a visual summary and argument). There is always something we can tweek and improve in a plot, depending on the situation, but if all of our plots will be at least at the level of this plot, that will be of sufficient standards.</p>
<div id="histograms-and-density-plots" class="section level2">
<h2><span class="header-section-number">6.1</span> Histograms and density plots</h2>
<p>The most elementary way of summarizing data is to plot their density. Of course, the true density is unknown and we can only estimate it by using a model or a non-parametric (smoothing) kernel density estimation. A histogram (binning the data and plotting the frequencies) can be viewed as a more coarse or discrete way of estimating the density of the data.</p>
<p>In both density plots and histograms we need to specify the amount of smoothing (smoothing kernel width or bin size) - most build-in functions do it for us, but there is no optimal way of doing it, so we can often improve the plot by selecting a more appropriate degree of smoothing. When we have more data, we can get away with less smooting and reveal more characterisics of the underlying distribution.</p>
<p>We illustrate these two plots by summarizing NBA player weight:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> weight)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">y=</span>..density..), <span class="dt">alpha=</span><span class="fl">0.5</span>, 
                <span class="dt">position=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">binwidth =</span> <span class="dv">7</span>) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density</span>(<span class="dt">lwd =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-9"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-9-1.png" alt="Histogram and density estimation of NBA player weight" width="672" />
<p class="caption">
Figure 6.2: Histogram and density estimation of NBA player weight
</p>
</div>
</div>
<div id="bar-plot" class="section level2">
<h2><span class="header-section-number">6.2</span> Bar plot</h2>
<p>Bar plots are the most common choice for summarizing the (relative) frequencies for categorical or ordinal data with a manageable number of unique values. It is similar to a histogram, except that the categories/values provide a natural way of binning the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
tmp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">University =</span> dat<span class="op">$</span>college)
x &lt;-<span class="st"> </span><span class="kw">table</span>(tmp)
x &lt;-<span class="st"> </span>x[x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span>]
x &lt;-<span class="st"> </span><span class="kw">sample</span>(x, <span class="dv">10</span>, <span class="dt">rep =</span> F)
x &lt;-<span class="st"> </span><span class="kw">sort</span>(x)
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(x), <span class="kw">aes</span>(<span class="dt">x =</span> tmp, <span class="dt">y =</span> Freq)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;University&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;number of players&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-10"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-10-1.png" alt="The number of NBA players that came from these 10 Universities." width="672" />
<p class="caption">
Figure 6.3: The number of NBA players that came from these 10 Universities.
</p>
</div>
<p>When the number of unique values is large, it will not be not possible to visualize all of them (try visualizing the frequencies for all universities in the above example). In such cases we may opt to group some values or show only certain values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">0</span>)
tmp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">University =</span> dat<span class="op">$</span>college)
x &lt;-<span class="st"> </span><span class="kw">table</span>(tmp)
x &lt;-<span class="st"> </span>x[x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span>]
x &lt;-<span class="st"> </span><span class="kw">sample</span>(x, <span class="dv">10</span>, <span class="dt">rep =</span> F)
x &lt;-<span class="st"> </span><span class="kw">sort</span>(x)
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(x), <span class="kw">aes</span>(<span class="dt">x =</span> tmp, <span class="dt">y =</span> Freq)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;University&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;number of players&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-11"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-11-1.png" alt="The number of NBA players that came from these Universities." width="672" />
<p class="caption">
Figure 6.4: The number of NBA players that came from these Universities.
</p>
</div>
</div>
<div id="pie-chart" class="section level2">
<h2><span class="header-section-number">6.3</span> Pie chart</h2>
<p>Pie charts are quite possibly the easiest chart type to work with, because there is only one rule to using pie charts - <strong>don’t use pie charts</strong>. Let’s visualize the data from the bar chart example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>x <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(x)
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(y), <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> Freq, <span class="dt">fill =</span> tmp)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="dt">start=</span><span class="dv">0</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;University&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-12"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-12-1.png" alt="The relative frequencies of NBA players that came from these Universities." width="672" />
<p class="caption">
Figure 6.5: The relative frequencies of NBA players that came from these Universities.
</p>
</div>
<p>The pie chart is a great example (and warning!) of how aesthetics can get in the way of function and effectiveness. It is well documented that people are poor at comparing areas and especially angles. Could you recognize quickly from the above pie chart that University of Washington gave approximately twice as many players as University of Texas? How quickly would you be able to judge these relationships from the bar chart?</p>
<p>Angles can also play tricks on our eyes. Which color pie slice is the largest on the first plot below? Which on the second plot?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Name =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="dt">Value =</span> <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>))
<span class="kw">ggplot</span>(<span class="kw">data.frame</span>(y), <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> Value, <span class="dt">fill =</span> Name)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="dt">start=</span><span class="dv">0</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="kw">data.frame</span>(y), <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> Value, <span class="dt">fill =</span> Name)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="dt">start=</span>pi<span class="op">/</span><span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre></div>
<p><img src="Summarizing-data-02_files/figure-html/unnamed-chunk-13-2.png" width="672" /> For more information on how people percieve visual objects and relationships between them (distances, angles, areas), we recommend the pioneering work of Cleveland.</p>
</div>
<div id="scatterplot" class="section level2">
<h2><span class="header-section-number">6.4</span> Scatterplot</h2>
<p>The scatterplot is the most common plot for summarizing the relationship between two numerical variables. In this chapter we’ve already seen several examples of scatterplots. Here, we use three of them to summarize the relationship between player weight and player height by position.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>(.<span class="op">~</span>position)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-14"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-14-1.png" alt="Relationship between player weight and height by player position. Note that we introduced a bit of jitter - this is a common approach to dealing with numerical data where we have a limited number of unique values (such as rounded data)to reveal where we have more points." width="672" />
<p class="caption">
Figure 6.6: Relationship between player weight and height by player position. Note that we introduced a bit of jitter - this is a common approach to dealing with numerical data where we have a limited number of unique values (such as rounded data)to reveal where we have more points.
</p>
</div>
</div>
<div id="d-density-plot" class="section level2">
<h2><span class="header-section-number">6.5</span> 2D density plot</h2>
<p>When individual points are of little interest and we just want to summarize the density of the joint distribution, a 2D density plot is a good alternative to the scatterplot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> height, <span class="dt">y =</span> weight, <span class="dt">colour =</span> position)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density_2d</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">y =</span> <span class="dv">90</span>, <span class="dt">x =</span> <span class="dv">212</span>, <span class="dt">label =</span> <span class="st">&quot;centers&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">y =</span> <span class="dv">80</span>, <span class="dt">x =</span> <span class="dv">203</span>, <span class="dt">label =</span> <span class="st">&quot;forwards&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;darkgreen&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">y =</span> <span class="dv">73</span>, <span class="dt">x =</span> <span class="dv">192</span>, <span class="dt">label =</span> <span class="st">&quot;guards&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-15"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-15-1.png" alt="Relationship between player weight and height by player position." width="672" />
<p class="caption">
Figure 6.7: Relationship between player weight and height by player position.
</p>
</div>
</div>
<div id="boxplot" class="section level2">
<h2><span class="header-section-number">6.6</span> Boxplot</h2>
<p>A boxplot is named by the boxes that typicaly summarize the quartiles of the data. Sometimes, whiskers are added to indicate outliers. It useful for quickly visually summarizing, side-by-side, several numerical variables or to summarize the relationship between a categorical/ordinal variable and a numerical variable. Here, we use it so summarize weight by playing position.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> position, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="dt">width =</span> <span class="fl">0.1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-16"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-16-1.png" alt="Summary of player weight by position." width="672" />
<p class="caption">
Figure 6.8: Summary of player weight by position.
</p>
</div>
</div>
<div id="violin-plot" class="section level2">
<h2><span class="header-section-number">6.7</span> Violin plot</h2>
<p>The boxplot shows only the quartiles so it can sometimes be misleading or hide information. An alternative is to plot the entire density estimates. Such a plot is called a violin plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(dat, <span class="kw">aes</span>(<span class="dt">x =</span> position, <span class="dt">y =</span> weight)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_violin</span>(<span class="dt">fill =</span> <span class="st">&quot;lightblue&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="dt">width =</span> <span class="fl">0.05</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>()</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-17"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-17-1.png" alt="Summary of player weight by position. Note that we combined the violin plot with the boxplot to facilitate comparison." width="672" />
<p class="caption">
Figure 6.9: Summary of player weight by position. Note that we combined the violin plot with the boxplot to facilitate comparison.
</p>
</div>
</div>
<div id="correlogram" class="section level2">
<h2><span class="header-section-number">6.8</span> Correlogram</h2>
<p>When we want to quickly inspect if there are any correlations between numerical variables, we can summarize correlation coefficients in a single plot. Such a plot is also known as a correlogram. Here we do it for the iris dataset:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggcorrplot)</code></pre></div>
<pre><code>## Warning: package &#39;ggcorrplot&#39; was built under R version 3.5.3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">corr &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">cor</span>(iris[,<span class="op">-</span><span class="dv">5</span>]),<span class="dv">2</span>)
<span class="kw">ggcorrplot</span>(corr, <span class="dt">hc.order =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="dt">outline.col =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lab =</span> T)</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-18"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-18-1.png" alt="Summary of the numerical variables in the iris dataset." width="672" />
<p class="caption">
Figure 6.10: Summary of the numerical variables in the iris dataset.
</p>
</div>
</div>
<div id="a-comprehensive-summary" class="section level2">
<h2><span class="header-section-number">6.9</span> A comprehensive summary</h2>
<p>Sometimes it will be useful to summarize the density/histogram of several numerical variables and the correlation between them. Here is an example of how we can combine histograms/density plots, scatterplots, and information about correlation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(psych)</code></pre></div>
<pre><code>## Warning: package &#39;psych&#39; was built under R version 3.5.3</code></pre>
<pre><code>## 
## Attaching package: &#39;psych&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pairs.panels</span>(iris[,<span class="op">-</span><span class="dv">5</span>])</code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-19"></span>
<img src="Summarizing-data-02_files/figure-html/unnamed-chunk-19-1.png" alt="Summary of the numerical variables in the iris dataset." width="672" />
<p class="caption">
Figure 6.11: Summary of the numerical variables in the iris dataset.
</p>
</div>
</div>
<div id="further-reading-and-references-3" class="section level2">
<h2><span class="header-section-number">6.10</span> Further reading and references</h2>
<p>ggplot2: Elegant Graphics for Data Analysis (Use R!) 1st ed. 2009. Corr. 3rd printing 2010 Edition</p>
<p>Visualize This: The FlowingData Guide to Design, Visualization, and Statistics</p>
<p>Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods William S. Cleveland and Robert McGill Journal of the American Statistical Association Vol. 79, No. 387 (Sep., 1984), pp. 531-554</p>
</div>
<div id="learning-outcomes-3" class="section level2">
<h2><span class="header-section-number">6.11</span> Learning outcomes</h2>
<p>Data science students should work towards obtaining the knowledge and the skills that enable them to:</p>
<ul>
<li>Reproduce the techniques demonstrated in this chapter using their language/tool of choice.</li>
<li>Produce visualizations that are aesthetic and without major techical flaws.</li>
<li>Recognize when a type of summary is appropriate and when it is not.</li>
<li>Apply data summarization techiques to obtain insights from data.</li>
<li>Once introduced to the bootstrap and other estimation techniques, to be able to combine descriptive statistics with a quantification of uncertainty, such as confidence intervals.</li>
</ul>
</div>
<div id="practice-problems-3" class="section level2">
<h2><span class="header-section-number">6.12</span> Practice problems</h2>
<p>TODO: Basically, take a rich enough dataset and demonstrate most if not all summarization techniques shown here. For each summary, add an interpretation of the insights it provides.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="summarizing-data-the-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dynamic-reports-and-reproducibility.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
